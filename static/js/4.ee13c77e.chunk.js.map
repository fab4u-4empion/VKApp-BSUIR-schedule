{"version":3,"sources":["lists/groupsList.js","App.js"],"names":["GroupList","useState","search","setSearch","load","setLoad","fail","setFail","groups","setGroups","groupsResult","setGroupsResult","useEffect","searchValue","toLowerCase","filter","name","indexOf","sessionStorage","getItem","JSON","parse","axios","get","then","response","setItem","stringify","data","catch","window","addEventListener","scrollHandler","removeEventListener","e","vertical","readOnly","value","onChange","target","after","style","paddingTop","length","map","group","id","App","viewWidth","useAdaptivity","platform","usePlatform","isDesktop","ViewWidth","TABLET","hasHeader","VKCOM","activeStory","setActiveStory","onStoryChange","currentTarget","dataset","story","header","separator","justifyContent","fixed","width","maxWidth","disabled","backgroundColor","borderRadius","onClick","before","animate","spaced","tabbar","selected","text","activePanel","height","icon"],"mappings":"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","file":"static/js/4.ee13c77e.chunk.js","sourcesContent":["import { Icon28FavoriteOutline } from \"@vkontakte/icons\"\r\nimport { FixedLayout, Footer, Group, IconButton, PanelSpinner, Placeholder, Search, SimpleCell } from \"@vkontakte/vkui\"\r\nimport axios from \"axios\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\nfunction GroupList() {\r\n\r\n    const [search, setSearch] = useState(\"\")\r\n    const [load, setLoad] = useState(false)\r\n    const [fail, setFail] = useState(false)\r\n    const [groups, setGroups] = useState([])\r\n    const [groupsResult, setGroupsResult] = useState([])\r\n\r\n    useEffect(() => {\r\n        const searchValue = search.toLowerCase();\r\n        setGroupsResult(groups.filter(\r\n            ({ name }) => name.toLowerCase().indexOf(searchValue) > -1\r\n        ))\r\n    }, [search])\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem(\"groups\")) {\r\n            setGroups(JSON.parse(sessionStorage.getItem(\"groups\")))\r\n            setLoad(() => {\r\n                const searchValue = search.toLowerCase();\r\n                setGroupsResult(JSON.parse(sessionStorage.getItem(\"groups\")).filter(\r\n                    ({ name }) => name.toLowerCase().indexOf(searchValue) > -1\r\n                ))\r\n                return true\r\n            })\r\n        } else {\r\n            axios\r\n                .get(\"https://journal.bsuir.by/api/v1/groups\")\r\n                .then(response => {\r\n                    sessionStorage.setItem(\"groups\", JSON.stringify(response.data))\r\n                    setGroups(response.data)\r\n                    setLoad(() => {\r\n                        const searchValue = search.toLowerCase();\r\n                        setGroupsResult(response.data.filter(\r\n                            ({ name }) => name.toLowerCase().indexOf(searchValue) > -1\r\n                        ))\r\n                        return true\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    setFail(true)\r\n                })\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"scroll\", scrollHandler)\r\n        return function () {\r\n            window.removeEventListener(\"scroll\", scrollHandler)\r\n        }\r\n    }, [])\r\n\r\n    const scrollHandler = (e) => {\r\n\r\n    }\r\n\r\n    return (\r\n        <span>\r\n            <FixedLayout vertical=\"top\">\r\n                <Search \r\n                    readOnly={!load}\r\n                    value={search}\r\n                    onChange={(e) => { setSearch(e.target.value) } }\r\n                    after={null}\r\n                />\r\n            </FixedLayout>\r\n            <Group style={{ paddingTop: 40}}>\r\n                {!load && !fail && <PanelSpinner />}\r\n                {load && groupsResult.length > 0 &&\r\n                    groupsResult.map((group) => (\r\n                        <SimpleCell\r\n                            key={group.id}\r\n                            after={<IconButton><Icon28FavoriteOutline /></IconButton>}\r\n                        >\r\n                            {group.name}\r\n                        </SimpleCell>\r\n                    ))}\r\n                {load && groupsResult.length === 0 && <Footer>Ничего не найдено</Footer>}\r\n                {fail && <Placeholder>Не удалось загрузить список групп</Placeholder>}\r\n            </Group>\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default GroupList","import React, {lazy, Suspense, useState} from \"react\";\nimport {\n\tView,\n\tPanel,\n\tPanelHeader,\n\tGroup,\n\tuseAdaptivity,\n\tSplitCol,\n\tSplitLayout,\n\tViewWidth, \n\tusePlatform,\n\tVKCOM, \n\tCell,\n\tTabbar,\n\tTabbarItem,\n\tEpic,\n\tPlaceholder,\n} from \"@vkontakte/vkui\";\nimport { Icon28EducationOutline, Icon28FavoriteOutline, Icon28UsersOutline } from \"@vkontakte/icons\";\nimport GroupList from \"./lists/groupsList\";\n\nconst App = () => {\n\tconst { viewWidth } = useAdaptivity()\n\tconst platform = usePlatform();\n\n\tconst isDesktop = viewWidth >= ViewWidth.TABLET;\n    const hasHeader = platform !== VKCOM;\n\n\tconst [activeStory, setActiveStory] = useState(\"favorites\");\n\n\tconst onStoryChange = (e) => setActiveStory(e.currentTarget.dataset.story);\n    \n\n\treturn (\n\t\t<SplitLayout\n\t\t\theader={hasHeader && <PanelHeader separator={false} />}\n\t\t\tstyle={{ justifyContent: \"center\" }}\n\t\t>\n\t\t\t{isDesktop && (\n\t\t\t\t<SplitCol fixed width={280} maxWidth={280}>\n\t\t\t\t\t<Panel>\n\t\t\t\t\t\t{hasHeader && <PanelHeader />}\n\t\t\t\t\t\t<Group>\n\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\tdisabled={activeStory === \"favorites\"}\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tactiveStory === \"favorites\"\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"var(--button_secondary_background)\",\n\t\t\t\t\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata-story=\"favorites\"\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tbefore={<Icon28FavoriteOutline />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tИзбранное\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\tdisabled={activeStory === \"groups\"}\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tactiveStory === \"groups\"\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"var(--button_secondary_background)\",\n\t\t\t\t\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata-story=\"groups\"\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tbefore={<Icon28UsersOutline />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tГруппы\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\tdisabled={activeStory === \"teachers\"}\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tactiveStory === \"teachers\"\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"var(--button_secondary_background)\",\n\t\t\t\t\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata-story=\"teachers\"\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tbefore={<Icon28EducationOutline />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tПреподаватели\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t</Panel>\n\t\t\t\t</SplitCol>\n\t\t\t)}\n\t\t\t<SplitCol\n\t\t\t\tanimate={!isDesktop}\n\t\t\t\tspaced={isDesktop}\n\t\t\t\twidth={isDesktop ? \"560px\" : \"100%\"}\n\t\t\t\tmaxWidth={isDesktop ? \"560px\" : \"100%\"}\n        \t>\n\t\t\t\t<Epic\n\t\t\t\t\tactiveStory={activeStory}\n\t\t\t\t\ttabbar={\n\t\t\t\t\t!isDesktop && (\n\t\t\t\t\t\t<Tabbar>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tselected={activeStory === \"favorites\"}\n\t\t\t\t\t\t\t\tdata-story=\"favorites\"\n\t\t\t\t\t\t\t\ttext=\"Избранное\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon28FavoriteOutline />\n\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tselected={activeStory === \"groups\"}\n\t\t\t\t\t\t\t\tdata-story=\"groups\"\n\t\t\t\t\t\t\t\ttext=\"Группы\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon28UsersOutline />\n\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tselected={activeStory === \"teachers\"}\n\t\t\t\t\t\t\t\tdata-story=\"teachers\"\n\t\t\t\t\t\t\t\ttext=\"Преподаватели\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon28EducationOutline />\n\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t</Tabbar>\n\t\t\t\t\t)}\n\t\t\t\t>\t\n\t\t\t\t\t<View id=\"favorites\" activePanel=\"favorites-list\">\n\t\t\t\t\t\t<Panel id=\"favorites-list\">\n\t\t\t\t\t\t\t<PanelHeader>Избранное</PanelHeader>\n\t\t\t\t\t\t\t<Group style={{ height: \"1000px\" }}>\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={<Icon28FavoriteOutline width={56} height={56} />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tИзбранное\n\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id=\"groups\" activePanel=\"groups-list\">\n\t\t\t\t\t\t<Panel id=\"groups-list\">\n\t\t\t\t\t\t\t<PanelHeader>Группы</PanelHeader>\n\t\t\t\t\t\t\t<GroupList />\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id=\"teachers\" activePanel=\"teachers-list\">\n\t\t\t\t\t\t<Panel id=\"teachers-list\">\n\t\t\t\t\t\t\t<PanelHeader>Преподаватели</PanelHeader>\n\t\t\t\t\t\t\t<Group style={{ height: \"1000px\" }}>\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={<Icon28EducationOutline width={56} height={56} />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tПреподаваетли\n\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t</Epic>\n        \t</SplitCol>\n\t\t</SplitLayout>\n\t);\n};\n\nexport default App\n\n\n"],"sourceRoot":""}