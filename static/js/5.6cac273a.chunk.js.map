{"version":3,"sources":["lists/groupsList.js","lists/teachersList.js","App.js"],"names":["GroupList","props","useState","AbortController","controller","history","state","searchValue","search","setSearch","localStorage","getItem","load","setLoad","fail","setFail","JSON","parse","groups","setGroups","filter","name","toLowerCase","indexOf","groupsSearchResult","setGroupsSearchResult","groups_CurrentPage","currentPage","setCurrentPage","endOfPage","setEndOfPage","fetching","setFetching","groupsRender","setGroupsRender","snackbar","setSnackbar","useContextProvider","favoriteGroups","toggleGroupsFavoriteFlag","useEffect","window","scrollTo","scrollX","storyState","replaceState","length","slice","axios","get","signal","then","response","console","log","setItem","stringify","data","catch","addEventListener","scrollHandler","removeEventListener","abort","popstateHandler","e","target","documentElement","scrollHeight","scrollTop","innerHeight","onRefresh","refreshErrorSnackbar","onClose","before","fill","width","height","duration","vertical","filled","readOnly","value","onChange","isSearch","activeStory","groups_activePanel","groups_contextOpened","body_overflow","pushState","changeHandler","after","style","paddingTop","isFetching","minHeight","map","group","onClick","onGroupSelect","expandable","groupName","stopPropagation","favoriteFlagClickHandler","includes","id","TeachersList","teachers","setTeachers","fullName","teachersSearchResult","setTeachersSearchResult","teachersRender","setTeachersRender","favoriteTeachers","toggleTeachersFavoriteFlag","lastName","firstName","middleName","teachers_activePanel","teachers_contextOpened","teacher","onTeacherSelect","teacheID","src","photoLink","description","rank","App","viewWidth","useAdaptivity","platform","usePlatform","isDesktop","ViewWidth","TABLET","hasHeader","VKCOM","setActiveStory","groupsActivePanel","setGroupsActivePanel","teachersActivePanel","setTeachersActivePanel","setGroupName","setTeacher","groupContextMenuOpened","setGroupContextMenuOpened","teacherContextMenuOpened","setTeacherContextMenuOpened","errorSnackbar","onStoryChange","currentTarget","dataset","story","document","body","overflow","toggleGroupContextMenu","back","stateObj","toggleTeacherContextMenu","header","separator","justifyContent","fixed","maxWidth","disabled","backgroundColor","borderRadius","animate","spaced","tabbar","selected","text","activePanel","icon","go","aside","transform","opened","toggleGroupsFavoriteFlagHandler","teacherTmp","find","size","status"],"mappings":"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","file":"static/js/5.6cac273a.chunk.js","sourcesContent":["import { Icon16CancelCircleOutline, Icon28Favorite, Icon28FavoriteOutline } from \"@vkontakte/icons\"\r\nimport { SimpleCell, FixedLayout, Footer, Group, IconButton, List, PanelSpinner, Placeholder, PullToRefresh, Search, Snackbar } from \"@vkontakte/vkui\"\r\nimport axios from \"axios\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useContextProvider } from \"../context/context\"\r\n\r\n\r\nfunction GroupList(props) {\r\n\r\n    const [controller] = useState(new AbortController())\r\n    const [search, setSearch] = useState(history.state.searchValue)\r\n    const [load, setLoad] = useState(localStorage.getItem(\"groups\") ? true : false)\r\n    const [fail, setFail] = useState(false)\r\n    const [groups, setGroups] = useState(localStorage.getItem(\"groups\") ? JSON.parse(localStorage.getItem(\"groups\")) : [])\r\n    const [groupsSearchResult, setGroupsSearchResult] = useState(\r\n        localStorage.getItem(\"groups\")\r\n            ? \r\n                JSON.parse(localStorage.getItem(\"groups\")).filter(\r\n                    ({ name }) => name.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n                )\r\n            : \r\n                []\r\n    )\r\n    const [currentPage, setCurrentPage] = useState(history.state.groups_CurrentPage)\r\n    const [endOfPage, setEndOfPage] = useState(false)\r\n    const [fetching, setFetching] = useState(false)\r\n    const [groupsRender, setGroupsRender] = useState([])\r\n    const [snackbar, setSnackbar] = useState(null)\r\n\r\n    const { favoriteGroups, toggleGroupsFavoriteFlag } = useContextProvider()\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(window.scrollX, 0)\r\n        let storyState = history.state\r\n        storyState.searchValue = search\r\n        history.replaceState(storyState, \"\")\r\n        setGroupsSearchResult(groups.filter(\r\n            ({ name }) => name.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n        ))\r\n    }, [search])\r\n\r\n    useEffect(() => {\r\n        if (endOfPage && groupsSearchResult.length > 30) {\r\n            setGroupsRender([...groupsRender, ...groupsSearchResult.slice(currentPage * 30, currentPage * 30 + 30)])\r\n            setCurrentPage(currentPage => currentPage + 1)\r\n            setEndOfPage(false)\r\n        } else {\r\n            setEndOfPage(false)\r\n        }\r\n    }, [endOfPage])\r\n\r\n    useEffect(() => {\r\n        setCurrentPage(1)\r\n        setGroupsRender(groupsSearchResult.slice(0, 30))\r\n    }, [groupsSearchResult])\r\n\r\n    useEffect(() => { \r\n        if (!load) {\r\n            axios\r\n                .get(\"https://iis.bsuir.by/api/v1/student-groups\", {\r\n                    signal: controller.signal\r\n                })\r\n                .then(response => {\r\n                    console.log(\"test\")\r\n                    localStorage.setItem(\"groups\", JSON.stringify(response.data))\r\n                    setGroups(response.data)\r\n                    setLoad(() => {\r\n                        setGroupsSearchResult(JSON.parse(localStorage.getItem(\"groups\")).filter(\r\n                            ({ name }) => name.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n                        ))\r\n                        return true\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    setFail(true)\r\n                })\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"scroll\", scrollHandler)\r\n        return function () {\r\n            window.removeEventListener(\"scroll\", scrollHandler)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        return function () {\r\n            controller.abort()\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        return function () {\r\n            setSnackbar(null)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"popstate\", popstateHandler)\r\n        return function () {\r\n            window.removeEventListener(\"popstate\", popstateHandler)\r\n        }\r\n    }, [])\r\n\r\n    \r\n\r\n    const scrollHandler = (e) => {\r\n        if (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100) {\r\n            setEndOfPage(true)\r\n        }\r\n    }\r\n\r\n    const onRefresh = () => {\r\n        setFetching(true)\r\n        axios\r\n            .get(\"https://iis.bsuir.by/api/v1/student-groups\", {\r\n                signal: controller.signal\r\n            })\r\n            .then(response => {\r\n                localStorage.setItem(\"groups\", JSON.stringify(response.data))\r\n                setGroups(response.data)\r\n                setFetching(() => {\r\n                    setGroupsSearchResult(JSON.parse(localStorage.getItem(\"groups\")).filter(\r\n                        ({ name }) => name.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n                    ))\r\n                    return false\r\n                })\r\n                if (fail) {\r\n                    setLoad(true)\r\n                    setFail(false)\r\n                }\r\n            })\r\n            .catch(() => {\r\n                setFetching(false)\r\n                setSnackbar(refreshErrorSnackbar)\r\n            })\r\n    }\r\n\r\n    const openGroupScheduleHandler = (e) => {\r\n        props.onGroupSelect(e)\r\n    }\r\n\r\n    const changeHandler = (e) => {\r\n        if (history.state.isSearch) {\r\n            history.replaceState({\r\n                activeStory: \"groups\",\r\n                searchValue: e.target.value,\r\n                isSearch: true,\r\n                groups_activePanel: \"groups-list\",\r\n                groups_contextOpened: false,\r\n                body_overflow: \"visible\"\r\n            }, \"\")\r\n        } else {\r\n            history.pushState({\r\n                activeStory: \"groups\",\r\n                searchValue: e.target.value,\r\n                isSearch: true,\r\n                groups_activePanel: \"groups-list\",\r\n                groups_contextOpened: false,\r\n                body_overflow: \"visible\"\r\n            }, \"\")\r\n        }\r\n        setSearch(e.target.value)\r\n    }\r\n\r\n    const popstateHandler = () => {\r\n        if (history.state) {\r\n            setSearch(history.state.searchValue)\r\n        }\r\n    }\r\n\r\n    const favoriteFlagClickHandler = (e, groupName) => {\r\n        e.stopPropagation()\r\n        toggleGroupsFavoriteFlag(groupName)\r\n        setSnackbar(null)\r\n    }\r\n\r\n    const refreshErrorSnackbar = \r\n        <Snackbar\r\n            onClose={ () => setSnackbar(null) }\r\n            before={ <Icon16CancelCircleOutline fill=\"var(--dynamic_red)\" width={24} height={24} /> }\r\n            duration={1700}\r\n        >\r\n            Не удалось обновить список групп\r\n        </Snackbar>\r\n        \r\n\r\n    return (\r\n        <>\r\n            <FixedLayout vertical=\"top\" filled=\"true\">\r\n                <Search \r\n                    readOnly={!load || fetching}\r\n                    value={search}\r\n                    onChange={ e => fetching ? () => {} : changeHandler(e) }\r\n                    after=\"Отмена\"\r\n                />\r\n            </FixedLayout>\r\n            <Group style={{ paddingTop: 40 }}>\r\n                { !load && !fail && <PanelSpinner /> }\r\n                { fail && \r\n                    <PullToRefresh\r\n                        onRefresh={onRefresh}\r\n                        isFetching={fetching}\r\n                        style={{ minHeight: 350 }}\r\n                    >\r\n                        <Placeholder>Не удалось загрузить список групп</Placeholder>\r\n                    </PullToRefresh>\r\n                }\r\n                { load && !fail &&\r\n                    <PullToRefresh\r\n                        onRefresh={onRefresh}\r\n                        isFetching={fetching}\r\n                        style={{ minHeight: 350 }}\r\n                    >\r\n                        <List>\r\n                            { groupsSearchResult.length > 0 &&\r\n                                groupsRender.map((group) => (\r\n                                    <SimpleCell\r\n                                        onClick={() => { openGroupScheduleHandler(group.name) }}\r\n                                        key={group.id}\r\n                                        expandable={true}\r\n                                        before={\r\n                                            <IconButton onClick={e => favoriteFlagClickHandler(e, group.name) }>\r\n                                                { favoriteGroups.includes(group.name) && <Icon28Favorite fill=\"var(--accent)\" /> }\r\n                                                { !favoriteGroups.includes(group.name) && <Icon28FavoriteOutline fill=\"var(--accent)\" /> }\r\n                                            </IconButton>\r\n                                        }\r\n                                    >\r\n                                        {group.name}\r\n                                    </SimpleCell>\r\n                                ))}\r\n                        </List>\r\n                        { groupsSearchResult.length === 0 && <Footer>Ничего не найдено</Footer> }\r\n                    </PullToRefresh>\r\n                }\r\n                { snackbar }\r\n            </Group>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GroupList","import { Icon16CancelCircleOutline, Icon28ChevronRightOutline, Icon28Favorite, Icon28FavoriteOutline } from \"@vkontakte/icons\"\r\nimport { Avatar, SimpleCell, FixedLayout, Footer, Group, IconButton, List, PanelSpinner, Placeholder, PullToRefresh, Search, Snackbar } from \"@vkontakte/vkui\"\r\nimport axios from \"axios\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useContextProvider } from \"../context/context\"\r\n\r\n\r\nfunction TeachersList(props) {\r\n\r\n    const [controller] = useState(new AbortController())\r\n    const [search, setSearch] = useState(history.state.searchValue)\r\n    const [load, setLoad] = useState(localStorage.getItem(\"teachers\") ? true : false)\r\n    const [fail, setFail] = useState(false)\r\n    const [teachers, setTeachers] = useState(localStorage.getItem(\"teachers\") ? JSON.parse(localStorage.getItem(\"teachers\")) : [])\r\n    const [teachersSearchResult, setTeachersSearchResult] = useState(\r\n        localStorage.getItem(\"teachers\")\r\n            ?\r\n            JSON.parse(localStorage.getItem(\"teachers\")).filter(\r\n                ({ fullName }) => fullName.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n            )\r\n            :\r\n            []\r\n    )\r\n    const [currentPage, setCurrentPage] = useState(history.state.groups_CurrentPage)\r\n    const [endOfPage, setEndOfPage] = useState(false)\r\n    const [fetching, setFetching] = useState(false)\r\n    const [teachersRender, setTeachersRender] = useState([])\r\n    const [snackbar, setSnackbar] = useState(null)\r\n\r\n    const { favoriteTeachers, toggleTeachersFavoriteFlag } = useContextProvider()\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(window.scrollX, 0)\r\n        let storyState = history.state\r\n        storyState.searchValue = search\r\n        history.replaceState(storyState, \"\")\r\n        setTeachersSearchResult(teachers.filter(\r\n            ({ fullName }) => fullName.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n        ))\r\n    }, [search])\r\n\r\n    useEffect(() => {\r\n        if (endOfPage && teachersSearchResult.length > 30) {\r\n            setTeachersRender([...teachersRender, ...teachersSearchResult.slice(currentPage * 30, currentPage * 30 + 30)])\r\n            setCurrentPage(currentPage => currentPage + 1)\r\n            setEndOfPage(false)\r\n        } else {\r\n            setEndOfPage(false)\r\n        }\r\n    }, [endOfPage])\r\n\r\n    useEffect(() => {\r\n        setCurrentPage(1)\r\n        setTeachersRender(teachersSearchResult.slice(0, 30))\r\n    }, [teachersSearchResult])\r\n\r\n    useEffect(() => {\r\n        if (!load) {\r\n            axios\r\n                .get(\"https://iis.bsuir.by/api/v1/employees/all\", {\r\n                    signal: controller.signal\r\n                })\r\n                .then(response => {\r\n                    const data = response.data.map(e => {\r\n                        e.fullName = e.lastName + \" \" + e.firstName + \" \" + e.middleName\r\n                        return e\r\n                    })\r\n                    localStorage.setItem(\"teachers\", JSON.stringify(data))\r\n                    setTeachers(data)\r\n                    setLoad(() => {\r\n                        setTeachersSearchResult(JSON.parse(localStorage.getItem(\"teachers\")).filter(\r\n                            ({ fullName }) => fullName.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n                        ))\r\n                        return true\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    setFail(true)\r\n                })\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"scroll\", scrollHandler)\r\n        return function () {\r\n            window.removeEventListener(\"scroll\", scrollHandler)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        return function () {\r\n            controller.abort()\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        return function () {\r\n            setSnackbar(null)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"popstate\", popstateHandler)\r\n        return function () {\r\n            window.removeEventListener(\"popstate\", popstateHandler)\r\n        }\r\n    }, [])\r\n\r\n\r\n\r\n    const scrollHandler = (e) => {\r\n        if (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100) {\r\n            setEndOfPage(true)\r\n        }\r\n    }\r\n\r\n    const onRefresh = () => {\r\n        setFetching(true)\r\n        axios\r\n            .get(\"https://iis.bsuir.by/api/v1/employees/all\", {\r\n                signal: controller.signal\r\n            })\r\n            .then(response => {\r\n                const data = response.data.map(e => {\r\n                    e.fullName = e.lastName + \" \" + e.firstName + \" \" + e.middleName\r\n                    return e\r\n                })\r\n                localStorage.setItem(\"teachers\", JSON.stringify(data))\r\n                setTeachers(data)\r\n                setFetching(() => {\r\n                    setTeachersSearchResult(JSON.parse(localStorage.getItem(\"teachers\")).filter(\r\n                        ({ fullName }) => fullName.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n                    ))\r\n                    return false\r\n                })\r\n                if (fail) {\r\n                    setLoad(true)\r\n                    setFail(false)\r\n                }\r\n            })\r\n            .catch(() => {\r\n                setFetching(false)\r\n                setSnackbar(refreshErrorSnackbar)\r\n            })\r\n    }\r\n\r\n    const openTeachersScheduleHandler = (id) => {\r\n        props.onTeacherSelect(id)\r\n    }\r\n\r\n    const changeHandler = (e) => {\r\n        if (history.state.isSearch) {\r\n            history.replaceState({\r\n                activeStory: \"teachers\",\r\n                searchValue: e.target.value,\r\n                isSearch: true,\r\n                teachers_activePanel: \"teachers-list\",\r\n                teachers_contextOpened: false,\r\n                body_overflow: \"visible\"\r\n            }, \"\")\r\n        } else {\r\n            history.pushState({\r\n                activeStory: \"teachers\",\r\n                searchValue: e.target.value,\r\n                isSearch: true,\r\n                teachers_activePanel: \"teachers-list\",\r\n                teachers_contextOpened: false,\r\n                body_overflow: \"visible\"\r\n            }, \"\")\r\n        }\r\n        setSearch(e.target.value)\r\n    }\r\n\r\n    const popstateHandler = () => {\r\n        if (history.state) {\r\n            setSearch(history.state.searchValue)\r\n        }\r\n    }\r\n\r\n    const favoriteFlagClickHandler = (e, teacheID) => {\r\n        e.stopPropagation()\r\n        toggleTeachersFavoriteFlag(teacheID)\r\n        setSnackbar(null)\r\n    }\r\n\r\n    const refreshErrorSnackbar =\r\n        <Snackbar\r\n            onClose={() => setSnackbar(null)}\r\n            before={<Icon16CancelCircleOutline fill=\"var(--dynamic_red)\" width={24} height={24} />}\r\n            duration={1700}\r\n        >\r\n            Не удалось обновить список преподавателей\r\n        </Snackbar>\r\n\r\n\r\n    return (\r\n        <>\r\n            <FixedLayout vertical=\"top\" filled=\"true\">\r\n                <Search\r\n                    readOnly={!load || fetching}\r\n                    value={search}\r\n                    onChange={e => fetching ? () => { } : changeHandler(e)}\r\n                    after=\"Отмена\"\r\n                />\r\n            </FixedLayout>\r\n            <Group style={{ paddingTop: 40 }}>\r\n                {!load && !fail && <PanelSpinner />}\r\n                {fail &&\r\n                    <PullToRefresh\r\n                        onRefresh={onRefresh}\r\n                        isFetching={fetching}\r\n                        style={{ minHeight: 350 }}\r\n                    >\r\n                        <Placeholder>Не удалось загрузить список преподавателей</Placeholder>\r\n                    </PullToRefresh>\r\n                }\r\n                {load && !fail &&\r\n                    <PullToRefresh\r\n                        onRefresh={onRefresh}\r\n                        isFetching={fetching}\r\n                        style={{ minHeight: 350 }}\r\n                    >\r\n                        <List>\r\n                            {teachersSearchResult.length > 0 &&\r\n                                teachersRender.map((teacher) => (\r\n                                    <SimpleCell\r\n                                        key={teacher.id}\r\n                                        onClick={() => openTeachersScheduleHandler(teacher.id)}\r\n                                        before={\r\n                                            <>\r\n                                                <IconButton onClick={e => favoriteFlagClickHandler(e, teacher.id) }>\r\n                                                    {favoriteTeachers.includes(teacher.id) && <Icon28Favorite fill=\"var(--accent)\" />}\r\n                                                    {!favoriteTeachers.includes(teacher.id) && <Icon28FavoriteOutline fill=\"var(--accent)\" />}\r\n                                                </IconButton>\r\n                                                <Avatar src={teacher.photoLink} />\r\n                                            </>\r\n                                        }\r\n                                        description={teacher.rank}\r\n                                    >\r\n                                        {teacher.fullName}\r\n                                    </SimpleCell>\r\n                                ))}\r\n                        </List>\r\n                        {teachersSearchResult.length === 0 && <Footer>Ничего не найдено</Footer>}\r\n                    </PullToRefresh>\r\n                }\r\n                { snackbar }\r\n            </Group>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TeachersList","import React, {useEffect, useState} from \"react\";\nimport {\n\tView,\n\tPanel,\n\tPanelHeader,\n\tGroup,\n\tuseAdaptivity,\n\tSplitCol,\n\tSplitLayout,\n\tViewWidth, \n\tusePlatform,\n\tVKCOM, \n\tCell,\n\tTabbar,\n\tTabbarItem,\n\tEpic,\n\tPlaceholder,\n\tPanelHeaderBack,\n\tPanelHeaderContent,\n\tPanelHeaderContext,\n\tList,\n\tAvatar\n} from \"@vkontakte/vkui\";\nimport { Icon16Dropdown, Icon28EducationOutline, Icon28Favorite, Icon28FavoriteOutline, Icon28UsersOutline } from \"@vkontakte/icons\";\nimport GroupList from \"./lists/groupsList\";\nimport TeachersList from \"./lists/teachersList\";\nimport { useContextProvider } from \"./context/context\";\n\nconst App = () => {\n\tconst { viewWidth } = useAdaptivity()\n\tconst platform = usePlatform();\n\n\tconst isDesktop = viewWidth >= ViewWidth.TABLET;\n    const hasHeader = platform !== VKCOM;\n\n\tconst [activeStory, setActiveStory] = useState(\"favorites\")\n\tconst [groupsActivePanel, setGroupsActivePanel] = useState(\"groups-list\")\n\tconst [teachersActivePanel, setTeachersActivePanel] = useState(\"teachers-list\")\n\tconst [groupName, setGroupName] = useState(\"\")\n\tconst [teacher, setTeacher] = useState({})\n\tconst [groupContextMenuOpened, setGroupContextMenuOpened] = useState(false)\n\tconst [teacherContextMenuOpened, setTeacherContextMenuOpened] = useState(false)\n\tconst [snackbar, setSnackbar] = useState(null)\n\n\tconst { favoriteGroups, toggleGroupsFavoriteFlag, favoriteTeachers, toggleTeachersFavoriteFlag, errorSnackbar } = useContextProvider()\n\n\tuseEffect(() => {\n\t\thistory.pushState({\n\t\t\tactiveStory: \"favorites\",\n\t\t\tsearchValue: \"\",\n\t\t\tisSearch: false,\n\t\t\tgroups_activePanel: \"groups-list\",\n\t\t\tgroups_contextOpened: false,\n\t\t\tbody_overflow: \"visible\"\n\t\t}, \"\")\n\t}, [])\n\n\tuseEffect(() => {\n\t\tsetSnackbar(errorSnackbar)\n\t}, [errorSnackbar])\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"popstate\", popstateHandler)\n\t\treturn function () {\n\t\t\twindow.removeEventListener(\"popstate\", popstateHandler)\n\t\t}\n\t}, [])\n\n\tconst onStoryChange = (e) => {\n\t\tsetSnackbar(null)\n\t\thistory.pushState({\n\t\t\tactiveStory: e.currentTarget.dataset.story,\n\t\t\tsearchValue: \"\",\n\t\t\tisSearch: false,\n\t\t\tgroups_activePanel: \"groups-list\",\n\t\t\tteachers_activePanel: \"teachers-list\",\n\t\t\tgroups_contextOpened: false,\n\t\t\tbody_overflow: \"visible\"\n\t\t}, \"\")\n\t\tsetGroupsActivePanel(\"groups-list\")\n\t\tsetTeachersActivePanel(\"teachers-list\")\n\t\tsetActiveStory(e.currentTarget.dataset.story)\n\t} \n\n\tconst popstateHandler = () => {\n\t\tif (history.state) {\n\t\t\tsetGroupContextMenuOpened(history.state.groups_contextOpened)\n\t\t\tsetTeacherContextMenuOpened(history.state.teachers_contextOpened)\n\t\t\tsetActiveStory(history.state.activeStory)\n\t\t\tsetGroupsActivePanel(history.state.groups_activePanel)\n\t\t\tsetTeachersActivePanel(history.state.teachers_activePanel)\n\t\t\tdocument.body.style.overflow = history.state.body_overflow\n\t\t}\n\t}\n\n\tconst groupSelectHandler = (e) => {\n\t\thistory.pushState({\n\t\t\tactiveStory: \"groups\",\n\t\t\tsearchValue: \"\",\n\t\t\tisSearch: false,\n\t\t\tgroups_activePanel: \"group-schedule\",\n\t\t\tgroups_contextOpened: false,\n\t\t\tbody_overflow: \"visible\"\n\t\t}, \"\")\n\t\tsetGroupName(e)\n\t\tsetGroupsActivePanel(\"group-schedule\")\n\t\twindow.scrollTo(window.scrollX, 0)\n\t}\n\n\tconst teacherSelectHandler = (id, fullName) => {\n\t\thistory.pushState({\n\t\t\tactiveStory: \"teachers\",\n\t\t\tsearchValue: \"\",\n\t\t\tisSearch: false,\n\t\t\tteachers_activePanel: \"teacher-schedule\",\n\t\t\tteachers_contextOpened: false,\n\t\t\tbody_overflow: \"visible\"\n\t\t}, \"\")\n\t\tconst teacherTmp = localStorage.getItem(\"teachers\") ? JSON.parse(localStorage.getItem(\"teachers\")) : []\n\t\tsetTeacher(teacherTmp.find(teacher => teacher.id === id))\n\t\tsetTeachersActivePanel(\"teacher-schedule\")\n\t\twindow.scrollTo(window.scrollX, 0)\n\t}\n\n\n\tconst toggleGroupContextMenu = () => {\n\t\tif (!groupContextMenuOpened)  {\n\t\t\tlet stateObj = history.state\n\t\t\tstateObj.groups_contextOpened = true\n\t\t\tstateObj.body_overflow = \"hidden\"\n\t\t\tdocument.body.style.overflow = \"hidden\"\n\t\t\thistory.pushState(stateObj, \"\")\n\t\t\tsetGroupContextMenuOpened(true)\n\t\t} else {\n\t\t\thistory.back()\n\t\t}\t\n\t}\t\n\n\tconst toggleTeacherContextMenu = () => {\n\t\tif (!teacherContextMenuOpened)  {\n\t\t\tlet stateObj = history.state\n\t\t\tstateObj.teachers_contextOpened = true\n\t\t\tstateObj.body_overflow = \"hidden\"\n\t\t\tdocument.body.style.overflow = \"hidden\"\n\t\t\thistory.pushState(stateObj, \"\")\n\t\t\tsetTeacherContextMenuOpened(true)\n\t\t} else {\n\t\t\thistory.back()\n\t\t}\n\t}\n\t\n\tconst toggleGroupsFavoriteFlagHandler = (groupName) => {\n\t\ttoggleGroupContextMenu()\n\t\ttoggleGroupsFavoriteFlag(groupName)\n\t}\n\n\tconst toggleTeachersFavoriteFlagHandler = (id) => {\n\t\ttoggleTeacherContextMenu()\n\t\ttoggleTeachersFavoriteFlag(id)\n\t}\n\n\treturn (\n\t\t<SplitLayout\n\t\t\theader={ hasHeader && <PanelHeader separator={false} /> }\n\t\t\tstyle={{ justifyContent: \"center\" }}\n\t\t>\n\t\t\t{ isDesktop && (\n\t\t\t\t<SplitCol fixed width={280} maxWidth={280}>\n\t\t\t\t\t<Panel>\n\t\t\t\t\t\t{ hasHeader && <PanelHeader /> }\n\t\t\t\t\t\t<Group>\n\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\tdisabled={ activeStory === \"favorites\" }\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tactiveStory === \"favorites\"\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"var(--button_secondary_background)\",\n\t\t\t\t\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata-story=\"favorites\"\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tbefore={ <Icon28FavoriteOutline /> }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tИзбранное\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\tdisabled={ activeStory === \"groups\" }\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tactiveStory === \"groups\"\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"var(--button_secondary_background)\",\n\t\t\t\t\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata-story=\"groups\"\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tbefore={ <Icon28UsersOutline /> }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tГруппы\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\tdisabled={ activeStory === \"teachers\" }\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tactiveStory === \"teachers\"\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"var(--button_secondary_background)\",\n\t\t\t\t\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata-story=\"teachers\"\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\tbefore={ <Icon28EducationOutline /> }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tПреподаватели\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t</Panel>\n\t\t\t\t</SplitCol>\n\t\t\t)}\n\t\t\t<SplitCol\n\t\t\t\tanimate={!isDesktop}\n\t\t\t\tspaced={isDesktop}\n\t\t\t\twidth={ isDesktop ? \"560px\" : \"100%\" }\n\t\t\t\tmaxWidth={ isDesktop ? \"560px\" : \"100%\" }\n        \t>\n\t\t\t\t<Epic\n\t\t\t\t\tactiveStory={activeStory}\n\t\t\t\t\ttabbar={\n\t\t\t\t\t\t!isDesktop && (\n\t\t\t\t\t\t\t<Tabbar>\n\t\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\t\tselected={ activeStory === \"favorites\" }\n\t\t\t\t\t\t\t\t\tdata-story=\"favorites\"\n\t\t\t\t\t\t\t\t\ttext=\"Избранное\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon28FavoriteOutline />\n\t\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\t\tselected={ activeStory === \"groups\" }\n\t\t\t\t\t\t\t\t\tdata-story=\"groups\"\n\t\t\t\t\t\t\t\t\ttext=\"Группы\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon28UsersOutline />\n\t\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\t\t\t\tselected={ activeStory === \"teachers\" }\n\t\t\t\t\t\t\t\t\tdata-story=\"teachers\"\n\t\t\t\t\t\t\t\t\ttext=\"Преподаватели\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon28EducationOutline />\n\t\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t\t</Tabbar>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\t\n\t\t\t\t\t<View id=\"favorites\" activePanel=\"favorites-list\">\n\t\t\t\t\t\t<Panel id=\"favorites-list\">\n\t\t\t\t\t\t\t<PanelHeader>Избранное</PanelHeader>\n\t\t\t\t\t\t\t<Group style={{ height: \"1000px\" }}>\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={ <Icon28FavoriteOutline width={56} height={56} /> }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tИзбранное\n\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id=\"groups\" activePanel={groupsActivePanel}>\n\t\t\t\t\t\t<Panel id=\"groups-list\">\n\t\t\t\t\t\t\t<PanelHeader>Группы</PanelHeader>\n\t\t\t\t\t\t\t<GroupList onGroupSelect={groupSelectHandler} />\n\t\t\t\t\t\t\t{ snackbar }\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel id=\"group-schedule\">\n\t\t\t\t\t\t\t<PanelHeader\n\t\t\t\t\t\t\t\tbefore={\n\t\t\t\t\t\t\t\t\t<PanelHeaderBack\n\t\t\t\t\t\t\t\t\t\tonClick={ () => groupContextMenuOpened ? history.go(-2) : history.back() }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PanelHeaderContent\n\t\t\t\t\t\t\t\t\taside={\n\t\t\t\t\t\t\t\t\t\t<Icon16Dropdown\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ transform: `rotate(${groupContextMenuOpened ? \"180deg\" : \"0\" })` }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ () => toggleGroupContextMenu() }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{groupName}\n\t\t\t\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t\t\t<PanelHeaderContext\n\t\t\t\t\t\t\t\topened={groupContextMenuOpened}\n\t\t\t\t\t\t\t\tonClose={ () => toggleGroupContextMenu() }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\t\tbefore={\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{favoriteGroups.includes(groupName) && <Icon28Favorite fill=\"var(--accent)\" />}\n\t\t\t\t\t\t\t\t\t\t\t\t{!favoriteGroups.includes(groupName) && <Icon28FavoriteOutline fill=\"var(--accent)\" />}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={() => toggleGroupsFavoriteFlagHandler(groupName) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{favoriteGroups.includes(groupName) && \"Удалить из \\\"Избранное\\\"\"}\n\t\t\t\t\t\t\t\t\t\t{!favoriteGroups.includes(groupName) && \"Добавить в \\\"Избранное\\\"\"}\n\t\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</PanelHeaderContext>\n\t\t\t\t\t\t\t<Group style={{ height: \"1000px\" }}>\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={<Icon28UsersOutline width={56} height={56} />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tРасписание группы {groupName}\n\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t{ snackbar }\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id=\"teachers\" activePanel={teachersActivePanel}>\n\t\t\t\t\t\t<Panel id=\"teachers-list\">\n\t\t\t\t\t\t\t<PanelHeader>Преподаватели</PanelHeader>\n\t\t\t\t\t\t\t<TeachersList onTeacherSelect={teacherSelectHandler}/>\n\t\t\t\t\t\t\t{ snackbar }\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel id=\"teacher-schedule\">\n\t\t\t\t\t\t\t<PanelHeader\n\t\t\t\t\t\t\t\tbefore={\n\t\t\t\t\t\t\t\t\t<PanelHeaderBack\n\t\t\t\t\t\t\t\t\t\tonClick={ () => teacherContextMenuOpened ? history.go(-2) : history.back() }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PanelHeaderContent\n\t\t\t\t\t\t\t\t\taside={\n\t\t\t\t\t\t\t\t\t\t<Icon16Dropdown\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ transform: `rotate(${teacherContextMenuOpened ? \"180deg\" : \"0\" })` }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ () => toggleTeacherContextMenu() }\n\t\t\t\t\t\t\t\t\tbefore={<Avatar size={36} src={teacher.photoLink} />}\n\t\t\t\t\t\t\t\t\tstatus={teacher.rank}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ teacher.fullName }\n\t\t\t\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t\t\t<PanelHeaderContext\n\t\t\t\t\t\t\t\topened={teacherContextMenuOpened}\n\t\t\t\t\t\t\t\tonClose={ () => toggleTeacherContextMenu() }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\t\tbefore={\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{favoriteTeachers.includes(teacher.id) && <Icon28Favorite fill=\"var(--accent)\" />}\n\t\t\t\t\t\t\t\t\t\t\t\t{!favoriteTeachers.includes(teacher.id) && <Icon28FavoriteOutline fill=\"var(--accent)\" />}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={() => toggleTeachersFavoriteFlagHandler(teacher.id) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{favoriteTeachers.includes(teacher.id) && \"Удалить из \\\"Избранное\\\"\"}\n\t\t\t\t\t\t\t\t\t\t{!favoriteTeachers.includes(teacher.id) && \"Добавить в \\\"Избранное\\\"\"}\n\t\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</PanelHeaderContext>\n\t\t\t\t\t\t\t<Group style={{ height: \"1000px\" }}>\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={<Icon28EducationOutline width={56} height={56} />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tРасписание преподавателя {teacher.fullName}\n\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t{ snackbar }\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t</Epic>\n        \t</SplitCol>\n\t\t</SplitLayout>\n\t);\n};\n\nexport default App\n\n\n"],"sourceRoot":""}