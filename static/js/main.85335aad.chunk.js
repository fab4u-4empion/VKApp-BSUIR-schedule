(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{137:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),s=a.n(c),i=a(10),o=a.n(i),u=a(8),l=(a(136),a(137),a(45)),b=a(46),j=a(48),O=a(47),h=a(159),f=a(6),d=function(e){Object(j.a)(a,e);var t=Object(O.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={hasError:!1},r}return Object(b.a)(a,[{key:"render",value:function(){return this.state.hasError?Object(f.jsx)(u.Q,{children:Object(f.jsx)(u.t,{children:Object(f.jsxs)(u.y,{stretched:!0,icon:Object(f.jsx)(h.a,{fill:"var(--dynamic_red)"}),children:["\u041d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443 ",Object(f.jsx)("br",{})," \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441 \u043e\u0447\u0438\u0441\u0442\u043a\u043e\u0439 \u043a\u044d\u0448\u0430"]})})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),a}(n.a.Component),g=a(160),p=function(){var e=Object(u.S)().viewWidth;return Object(f.jsx)(u.h,{children:Object(f.jsx)(u.a,{children:Object(f.jsx)(u.b,{children:Object(f.jsx)(u.I,{header:Object(f.jsx)(u.u,{separator:!1}),children:Object(f.jsx)(u.H,{spaced:e&&e>u.R.MOBILE,children:Object(f.jsxs)(u.y,{Placeholder:!0,stretched:!0,icon:Object(f.jsx)(g.a,{fill:"var(--dynamic_red)"}),children:["\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c\u0438 Cookie ",Object(f.jsx)("br",{})," \u0438\u043b\u0438 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u043a\u043e\u0433\u043d\u0438\u0442\u043e"]})})})})})})},v=a(30),S=a(16),m=a.n(S),x=Object(r.lazy)((function(){return a.e(3).then(a.bind(null,161))})),y=function(){var e=Object(u.T)();return Object(f.jsx)(v.b,{children:Object(f.jsx)(u.h,{appearance:"light",platform:e===u.P?"android":e,children:Object(f.jsx)(u.a,{children:Object(f.jsx)(u.b,{children:Object(f.jsx)(d,{children:Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(u.B,{}),children:Object(f.jsx)(x,{})})})})})})})};try{localStorage.setItem("test","test"),sessionStorage.setItem("groupsFavorite",JSON.stringify(["051001"])),sessionStorage.setItem("teachersFavorite",JSON.stringify([])),o.a.send("VKWebAppStorageGet",{keys:["groupsFavorite","teachersFavorite"]}).then((function(e){console.log(e),e.keys[0].value&&sessionStorage.setItem("groupsFavorite",e.keys[0].value),e.keys[1].value&&sessionStorage.setItem("teachersFavorite",e.keys[1].value),history.pushState({activeStory:"favorites",searchValue:"",isSearch:!1,favorites_activePanel:"favorites-list",body_overflow:"visible"},""),o.a.send("VKWebAppInit"),m.a.get("https://iis.bsuir.by/api/v1/schedule/current-week").then((function(e){sessionStorage.setItem("week",JSON.stringify(e.data)),s.a.render(Object(f.jsx)(y,{}),document.getElementById("root"))}))}))}catch(k){s.a.render(Object(f.jsx)(p,{}),document.getElementById("root"))}},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(158),n=a(8),c=a(6),s=function(e){var t=e.message,a=e.setSnackbar;return Object(c.jsx)(n.F,{onClose:function(){a(null)},before:Object(c.jsx)(r.a,{fill:"var(--dynamic_red)",width:24,height:24}),duration:1700,children:t})}},28:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(11),n=a(0),c=function(e,t){var a=Object(n.useState)((function(){var a=localStorage.getItem(t);return a?JSON.parse(a):e})),c=Object(r.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){localStorage.setItem(t,JSON.stringify(s))}),s),[s,i]}},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f}));var r=a(29),n=a(11),c=a(0),s=a(10),i=a.n(s),o=a(21),u=a(28),l=a(16),b=a.n(l),j=a(6),O=Object(c.createContext)(),h=function(){return Object(c.useContext)(O)},f=function(e){var t=e.children,a=Object(c.useState)(JSON.parse(sessionStorage.getItem("groupsFavorite"))),s=Object(n.a)(a,2),l=s[0],h=s[1],f=Object(c.useState)(JSON.parse(sessionStorage.getItem("teachersFavorite"))),d=Object(n.a)(f,2),g=d[0],p=d[1],v=Object(c.useState)(null),S=Object(n.a)(v,2),m=S[0],x=S[1],y=Object(c.useState)(null),k=Object(n.a)(y,2),F=k[0],N=k[1],I=Object(c.useState)(null),E=Object(n.a)(I,2),J=E[0],w=E[1],G=Object(c.useState)(null),T=Object(n.a)(G,2),C=T[0],A=T[1],L=Object(u.a)(null,"groups"),V=Object(n.a)(L,2),W=V[0],_=V[1],B=Object(u.a)(null,"teachers"),K=Object(n.a)(B,2),P=K[0],R=K[1],z=Object(c.useState)(new AbortController),D=Object(n.a)(z,1)[0],H=Object(c.useState)(new AbortController),M=Object(n.a)(H,1)[0],Q=Object(c.useState)(!1),q=Object(n.a)(Q,2),U=q[0],X=q[1],Y=Object(c.useState)(!1),Z=Object(n.a)(Y,2),$=Z[0],ee=Z[1],te=Object(c.useState)(!1),ae=Object(n.a)(te,2),re=ae[0],ne=ae[1],ce=Object(c.useState)(!1),se=Object(n.a)(ce,2),ie=se[0],oe=se[1],ue=Object(c.useState)(!1),le=Object(n.a)(ue,2),be=le[0],je=le[1];Object(c.useEffect)((function(){W||b.a.get("https://iis.bsuir.by/api/v1/student-groups",{signal:D.signal}).then((function(e){_(e.data)})).catch((function(){X(!0)}))}),[,be]),Object(c.useEffect)((function(){P||b.a.get("https://iis.bsuir.by/api/v1/employees/all",{signal:M.signal}).then((function(e){var t=e.data.map((function(e){return e.fullName=e.lastName+" "+e.firstName+" "+e.middleName,e}));R(t)})).catch((function(){ee(!0)}))}),[,be]);return Object(j.jsx)(O.Provider,{value:{favoriteGroups:l,favoriteTeachers:g,groups:W,teachers:P,errorLoadingGroupList:U,errorLoadingTeachersList:$,fetchingGroups:re,fetchingTeachers:ie,toggleGroupsFavoriteFlag:function(e){var t=Object(r.a)(l),a="";t.includes(e)?(t.splice(t.indexOf(e),1),a='\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0438\u0437 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"'):(t.push(e),a='\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0432 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"'),i.a.send("VKWebAppStorageSet",{key:"groupsFavorite",value:JSON.stringify(t)}).then((function(){h(t)})).catch((function(){w(Object(j.jsx)(o.a,{message:a,setSnackbar:w}))}))},toggleTeachersFavoriteFlag:function(e){var t=Object(r.a)(g),a="";t.includes(e)?(t.splice(t.indexOf(e),1),a='\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"'):(t.push(e),a='\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f \u0432 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"'),i.a.send("VKWebAppStorageSet",{key:"teachersFavorite",value:JSON.stringify(t)}).then((function(){p(t)})).catch((function(){A(Object(j.jsx)(o.a,{message:a,setSnackbar:A}))}))},onGroupRefresh:function(){ne(!0),b.a.get("https://iis.bsuir.by/api/v1/student-groups").then((function(e){_(e.data),X(!1),ne(!1)})).catch((function(){ne(!1),x(Object(j.jsx)(o.a,{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f",setSnackbar:x}))}))},onTeachersRefresh:function(){oe(!0),b.a.get("https://iis.bsuir.by/api/v1/employees/all").then((function(e){var t=e.data.map((function(e){return e.fullName=e.lastName+" "+e.firstName+" "+e.middleName,e}));R(t),ee(!1),oe(!1)})).catch((function(){oe(!1),N(Object(j.jsx)(o.a,{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439",setSnackbar:N}))}))},toggleGroupFavoriteFlagSnackbar:J,toggleTeachreFavoriteFlagSnackbar:C,refreshGroupsErrorSnackbar:m,refreshTeachersErrorSnackbar:F,closeSnackbars:function(){x(null),w(null),A(null),N(null)},onReload:function(){ee(!1),X(!1),je(!be)}},children:t})}}},[[157,1,2]]]);
//# sourceMappingURL=main.85335aad.chunk.js.map