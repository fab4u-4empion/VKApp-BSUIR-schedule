(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[4],{172:function(e,t,r){"use strict";r.r(t);var o=r(12),c=r(0),s=r(8),n=r(4),a=Object(n.a)("Icon28FavoriteOutline","favorite_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="favorite_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m14 19.178 5.69 3.476a.205.205 0 0 0 .306-.223l-1.547-6.485 5.064-4.338a.205.205 0 0 0-.117-.36l-6.646-.533-2.56-6.156a.205.205 0 0 0-.38 0l-2.56 6.156-6.646.533a.205.205 0 0 0-.117.36l5.064 4.338-1.547 6.485a.205.205 0 0 0 .306.223L14 19.178Zm0 2.344L9.352 24.36a2.205 2.205 0 0 1-3.294-2.393l1.264-5.297-4.136-3.543a2.205 2.205 0 0 1 1.258-3.873l5.429-.435 2.091-5.028a2.205 2.205 0 0 1 4.072 0l2.091 5.028 5.429.435a2.205 2.205 0 0 1 1.258 3.873l-4.136 3.543 1.264 5.297a2.205 2.205 0 0 1-3.294 2.393L14 21.522Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28),i=Object(n.a)("Icon28UsersOutline","users_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="users_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M9 15c3.997 0 7.5 1.542 7.5 4.929 0 1.774-.69 2.571-2.147 2.571H3.647c-1.458 0-2.147-.797-2.147-2.571C1.5 16.542 5.003 15 9 15Zm10.5 0c3.997 0 7.5 1.542 7.5 4.929 0 1.774-.69 2.571-2.147 2.571H19a1 1 0 0 1 0-2h5.913a.83.83 0 0 1 .042.002l.013.001.002-.015c.01-.081.024-.22.029-.427l.001-.132C25 18.095 22.513 17 19.5 17c-.428 0-.898.03-1.37.09a1 1 0 1 1-.256-1.983A12.87 12.87 0 0 1 19.5 15ZM9 17c-3.013 0-5.5 1.095-5.5 2.929 0 .28.017.462.03.56l.001.014.014-.001.019-.001h10.891l.013.002.002-.015c.013-.097.03-.28.03-.56C14.5 18.096 12.013 17 9 17ZM19.5 5a4.25 4.25 0 0 1 4.25 4.25 4.25 4.25 0 0 1-4.25 4.25 4.25 4.25 0 0 1-4.25-4.25A4.25 4.25 0 0 1 19.5 5ZM9 5a4.25 4.25 0 0 1 4.25 4.25A4.25 4.25 0 0 1 9 13.5a4.25 4.25 0 0 1-4.25-4.25A4.25 4.25 0 0 1 9 5Zm10.5 2a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 1 0 0-4.5ZM9 7a2.25 2.25 0 1 0 0 4.5A2.25 2.25 0 1 0 9 7Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28),l=Object(n.a)("Icon28EducationOutline","education_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg" id="education_outline_28"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.428 6.043a5 5 0 0 1 5.145 0l6.681 4.01a.5.5 0 0 1-.016.866l-6.828 3.756a5 5 0 0 1-4.82 0l-6.828-3.756a.5.5 0 0 1-.016-.867l6.681-4.009Zm6.174-1.715 6.681 4.01c1.654.992 1.609 3.404-.081 4.334l-6.828 3.755a7 7 0 0 1-6.747 0l-6.829-3.755c-1.69-.93-1.735-3.342-.081-4.335l6.681-4.009a7 7 0 0 1 7.204 0Z" fill="currentColor" /><path d="M23.5 10.5a1 1 0 0 1 2 0v5a1 1 0 0 1-2 0v-5Z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M8 13v5a5 5 0 0 0 5 5h2a5 5 0 0 0 5-5v-5h2v5a7 7 0 0 1-7 7h-2a7 7 0 0 1-7-7v-5h2Z" fill="currentColor" /></symbol>',28,28),u=r(26),d=Object(n.a)("Icon16Dropdown","dropdown_16","0 0 16 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12" id="dropdown_16"><path fill="currentColor" d="M4.454 3.691a.9.9 0 0 0-1.108 1.418l4.096 3.203a.9.9 0 0 0 1.109 0l4.1-3.203a.9.9 0 1 0-1.109-1.418L7.997 6.46l-3.543-2.77Z" /></symbol>',16,12),j=Object(n.a)("Icon28Favorite","favorite_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="favorite_28"><path d="m17.97 9.593 5.258.505c1.83.175 2.39 1.962.978 3.136l-4.116 3.42 1.528 5.573c.502 1.83-1.055 2.938-2.614 1.837l-5.002-3.533-5 3.533c-1.554 1.097-3.117-.006-2.615-1.837l1.528-5.572-4.116-3.421c-1.419-1.179-.86-2.96.977-3.137l5.257-.504 2.316-5.34c.725-1.671 2.582-1.67 3.307 0z" fill="currentColor" /></symbol>',28,28),b=r(5),h=function(e){var t=Object(u.a)().toggleGroupFavoriteFlagSnackbar;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.m,{before:Object(b.jsx)(s.n,{onClick:function(){return e.groupContextMenuOpened?history.go(-2):history.back()}}),children:Object(b.jsx)(s.o,{aside:Object(b.jsx)(d,{style:{transform:"rotate(".concat(e.groupContextMenuOpened?"180deg":"0",")")}}),onClick:function(){return e.onToggleGroupContextMenu()},children:e.groupName})}),Object(b.jsx)(s.p,{opened:e.groupContextMenuOpened,onClose:function(){return e.onToggleGroupContextMenu()},children:Object(b.jsx)(s.k,{children:Object(b.jsxs)(s.d,{before:Object(b.jsxs)(b.Fragment,{children:[e.favoriteGroups.includes(e.groupName)&&Object(b.jsx)(j,{fill:"var(--accent)"}),!e.favoriteGroups.includes(e.groupName)&&Object(b.jsx)(a,{fill:"var(--accent)"})]}),onClick:function(){return e.onToggleGroupsFavorireFlag(e.groupName)},children:[e.favoriteGroups.includes(e.groupName)&&'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"',!e.favoriteGroups.includes(e.groupName)&&'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"']})})}),Object(b.jsxs)(s.i,{style:{height:"1000px"},children:[Object(b.jsxs)(s.r,{icon:Object(b.jsx)(i,{width:56,height:56}),children:["\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b ",e.groupName]}),t]})]})},f=r(24),p=function(e){var t=Object(u.a)(),r=t.groups,n=t.errorLoadingGroupList,i=t.favoriteGroups,l=t.toggleGroupsFavoriteFlag,d=t.closeSnackbars,h=t.fetchingGroups,p=t.onGroupRefresh,O=t.toggleGroupFavoriteFlagSnackbar,v=t.refreshErrorSnackbar,g=function(e,t,r){var s=Object(c.useState)(r),n=Object(o.a)(s,2),a=n[0],i=n[1],l=Object(c.useState)(e?e.filter((function(e){return e[t].toLowerCase().indexOf(a.toLowerCase())>-1})):[]),u=Object(o.a)(l,2),d=u[0],j=u[1];return Object(c.useEffect)((function(){j(e?e.filter((function(e){return e[t].toLowerCase().indexOf(a.toLowerCase())>-1})):[])}),[e]),[a,d,function(r){j(e?e.filter((function(e){return e[t].toLowerCase().indexOf(r.toLowerCase())>-1})):[]),i(r)}]}(r,"name",history.state.searchValue),x=Object(o.a)(g,3),y=x[0],w=x[1],m=x[2],_=function(e,t,r){var s=Object(c.useState)(t),n=Object(o.a)(s,2),a=n[0],i=n[1],l=Object(c.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)([]),h=Object(o.a)(b,2),p=h[0],O=h[1];Object(c.useEffect)((function(){d&&e.length>30?(O([].concat(Object(f.a)(p),Object(f.a)(e.slice(30*a,30*a+30)))),i((function(e){return e+1})),j(!1)):j(!1)}),[d]),Object(c.useEffect)((function(){i(1),O(e.slice(0,30))}),[e]),Object(c.useEffect)((function(){return window.addEventListener("scroll",v),function(){window.removeEventListener("scroll",v)}}),[]);var v=function(e){e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<100&&j(!0)};return[p]}(w,1),C=Object(o.a)(_,1)[0];Object(c.useEffect)((function(){window.scrollTo(window.scrollX,0);var e=history.state;e.searchValue=y,history.replaceState(e,"")}),[y]),Object(c.useEffect)((function(){return window.addEventListener("popstate",S),function(){window.removeEventListener("popstate",S)}}),[]);var S=function(){history.state&&m(history.state.searchValue)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.m,{children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),Object(b.jsx)(s.g,{vertical:"top",filled:"true",children:Object(b.jsx)(s.u,{readOnly:!r||h,value:y,onChange:function(e){return function(e){history.state.isSearch?history.replaceState({activeStory:"groups",searchValue:e.target.value,isSearch:!0,groups_activePanel:"groups-list",groups_contextOpened:!1,body_overflow:"visible"},""):history.pushState({activeStory:"groups",searchValue:e.target.value,isSearch:!0,groups_activePanel:"groups-list",groups_contextOpened:!1,body_overflow:"visible"},""),m(e.target.value)}(e)},after:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(b.jsxs)(s.i,{style:{paddingTop:40},children:[!r&&!n&&Object(b.jsx)(s.q,{}),n&&Object(b.jsx)(s.s,{onRefresh:p,isFetching:h,style:{minHeight:350},children:Object(b.jsx)(s.r,{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f"})}),r&&!n&&Object(b.jsxs)(s.s,{onRefresh:p,isFetching:h,style:{minHeight:350},children:[Object(b.jsx)(s.k,{children:w.length>0&&C.map((function(t){return Object(b.jsx)(s.v,{onClick:function(){var r;r=t.name,e.onGroupSelect(r)},expandable:!0,before:Object(b.jsx)(s.j,{onClick:function(e){return function(e,t){e.stopPropagation(),l(t),d(null)}(e,t.name)},children:i.includes(t.name)?Object(b.jsx)(j,{fill:"var(--accent)"}):Object(b.jsx)(a,{fill:"var(--accent)"})}),children:t.name},t.id)}))}),0===w.length&&Object(b.jsx)(s.h,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]}),O,v]})]})};t.default=function(){var e=Object(s.E)().viewWidth,t=Object(s.F)(),r=e>=s.D.TABLET,n=t!==s.B,d=Object(c.useState)("favorites"),j=Object(o.a)(d,2),f=j[0],O=j[1],v=Object(c.useState)("groups-list"),g=Object(o.a)(v,2),x=g[0],y=g[1],w=Object(c.useState)("teachers-list"),m=Object(o.a)(w,2),_=m[0],C=m[1],S=Object(c.useState)("favorites-list"),k=Object(o.a)(S,2),F=k[0],G=k[1],E=Object(c.useState)(""),L=Object(o.a)(E,2),M=L[0],T=L[1],P=Object(c.useState)({}),Z=Object(o.a)(P,2),A=(Z[0],Z[1],Object(c.useState)(!1)),H=Object(o.a)(A,2),N=H[0],V=H[1],B=Object(c.useState)(!1),z=Object(o.a)(B,2),R=(z[0],z[1]),I=Object(u.a)(),W=I.favoriteGroups,D=I.toggleGroupsFavoriteFlag,J=(I.favoriteTeachers,I.toggleTeachersFavoriteFlag,I.closeSnackbars);Object(c.useEffect)((function(){return window.addEventListener("popstate",q),function(){window.removeEventListener("popstate",q)}}),[]);var X=function(e){J(null),history.pushState({activeStory:e.currentTarget.dataset.story,searchValue:"",isSearch:!1,groups_activePanel:"groups-list",teachers_activePanel:"teachers-list",favorites_activePanel:"favorites-list",groups_contextOpened:!1,body_overflow:"visible"},""),y("groups-list"),C("teachers-list"),G("favorites-list"),O(e.currentTarget.dataset.story)},q=function(){J(null),history.state&&(V(history.state.groups_contextOpened),R(history.state.teachers_contextOpened),O(history.state.activeStory),y(history.state.groups_activePanel),C(history.state.teachers_activePanel),G(history.state.favorites_activePanel),document.body.style.overflow=history.state.body_overflow)},U=function(){if(N)history.back();else{var e=history.state;e.groups_contextOpened=!0,e.body_overflow="hidden",document.body.style.overflow="hidden",history.pushState(e,""),V(!0)}};return Object(b.jsxs)(s.y,{header:n&&Object(b.jsx)(s.m,{separator:!1}),style:{justifyContent:"center"},children:[r&&Object(b.jsx)(s.x,{fixed:!0,width:280,maxWidth:280,children:Object(b.jsxs)(s.l,{children:[n&&Object(b.jsx)(s.m,{}),Object(b.jsxs)(s.i,{children:[Object(b.jsx)(s.d,{disabled:"favorites"===f,style:"favorites"===f?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"favorites",onClick:X,before:Object(b.jsx)(a,{}),children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(b.jsx)(s.d,{disabled:"groups"===f,style:"groups"===f?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"groups",onClick:X,before:Object(b.jsx)(i,{}),children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),Object(b.jsx)(s.d,{disabled:"teachers"===f,style:"teachers"===f?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"teachers",onClick:X,before:Object(b.jsx)(l,{}),children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"})]})]})}),Object(b.jsx)(s.x,{animate:!r,spaced:r,width:r?"560px":"100%",maxWidth:r?"560px":"100%",children:Object(b.jsxs)(s.f,{activeStory:f,tabbar:!r&&Object(b.jsxs)(s.z,{children:[Object(b.jsx)(s.A,{onClick:X,selected:"favorites"===f,"data-story":"favorites",text:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",children:Object(b.jsx)(a,{})}),Object(b.jsx)(s.A,{onClick:X,selected:"groups"===f,"data-story":"groups",text:"\u0413\u0440\u0443\u043f\u043f\u044b",children:Object(b.jsx)(i,{})}),Object(b.jsx)(s.A,{onClick:X,selected:"teachers"===f,"data-story":"teachers",text:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438",children:Object(b.jsx)(l,{})})]}),children:[Object(b.jsxs)(s.C,{id:"favorites",activePanel:F,children:[Object(b.jsx)(s.l,{id:"favorites-list",children:Object(b.jsx)(s.m,{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})}),Object(b.jsx)(s.l,{id:"group-schedule"}),Object(b.jsx)(s.l,{id:"teacher-schedule"})]}),Object(b.jsxs)(s.C,{id:"groups",activePanel:x,children:[Object(b.jsx)(s.l,{id:"groups-list",children:Object(b.jsx)(p,{onGroupSelect:function(e){J(null),"groups"===f?(history.pushState({activeStory:"groups",searchValue:"",isSearch:!1,groups_activePanel:"group-schedule",groups_contextOpened:!1,body_overflow:"visible"},""),y("group-schedule")):(history.pushState({activeStory:"favorites",searchValue:"",isSearch:!1,favorites_activePanel:"group-schedule",groups_contextOpened:!1,body_overflow:"visible"},""),G("group-schedule")),T(e),window.scrollTo(window.scrollX,0)}})}),Object(b.jsx)(s.l,{id:"group-schedule",children:Object(b.jsx)(h,{groupContextMenuOpened:N,onToggleGroupContextMenu:U,onToggleGroupsFavorireFlag:function(e){U(),D(e)},favoriteGroups:W,groupName:M})})]}),Object(b.jsxs)(s.C,{id:"teachers",activePanel:_,children:[Object(b.jsx)(s.l,{id:"teachers-list",children:Object(b.jsx)(s.m,{children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"})}),Object(b.jsx)(s.l,{id:"teacher-schedule"})]})]})})]})}}}]);
//# sourceMappingURL=4.44ff146a.chunk.js.map