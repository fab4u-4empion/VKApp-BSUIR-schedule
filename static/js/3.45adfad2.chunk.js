(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[3],{164:function(e,t,n){"use strict";n.r(t);var c=n(10),r=n(0),o=n(8),s=n(4),a=Object(s.a)("Icon28FavoriteOutline","favorite_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="favorite_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m14 19.178 5.69 3.476a.205.205 0 0 0 .306-.223l-1.547-6.485 5.064-4.338a.205.205 0 0 0-.117-.36l-6.646-.533-2.56-6.156a.205.205 0 0 0-.38 0l-2.56 6.156-6.646.533a.205.205 0 0 0-.117.36l5.064 4.338-1.547 6.485a.205.205 0 0 0 .306.223L14 19.178Zm0 2.344L9.352 24.36a2.205 2.205 0 0 1-3.294-2.393l1.264-5.297-4.136-3.543a2.205 2.205 0 0 1 1.258-3.873l5.429-.435 2.091-5.028a2.205 2.205 0 0 1 4.072 0l2.091 5.028 5.429.435a2.205 2.205 0 0 1 1.258 3.873l-4.136 3.543 1.264 5.297a2.205 2.205 0 0 1-3.294 2.393L14 21.522Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0),i=Object(s.a)("Icon28UsersOutline","users_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="users_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M9 15c3.997 0 7.5 1.542 7.5 4.929 0 1.774-.69 2.571-2.147 2.571H3.647c-1.458 0-2.147-.797-2.147-2.571C1.5 16.542 5.003 15 9 15Zm10.5 0c3.997 0 7.5 1.542 7.5 4.929 0 1.774-.69 2.571-2.147 2.571H19a1 1 0 0 1 0-2h5.913a.83.83 0 0 1 .042.002l.013.001.002-.015c.01-.081.024-.22.029-.427l.001-.132C25 18.095 22.513 17 19.5 17c-.428 0-.898.03-1.37.09a1 1 0 1 1-.256-1.983A12.87 12.87 0 0 1 19.5 15ZM9 17c-3.013 0-5.5 1.095-5.5 2.929 0 .28.017.462.03.56l.001.014.014-.001.019-.001h10.891l.013.002.002-.015c.013-.097.03-.28.03-.56C14.5 18.096 12.013 17 9 17ZM19.5 5a4.25 4.25 0 0 1 4.25 4.25 4.25 4.25 0 0 1-4.25 4.25 4.25 4.25 0 0 1-4.25-4.25A4.25 4.25 0 0 1 19.5 5ZM9 5a4.25 4.25 0 0 1 4.25 4.25A4.25 4.25 0 0 1 9 13.5a4.25 4.25 0 0 1-4.25-4.25A4.25 4.25 0 0 1 9 5Zm10.5 2a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 1 0 0-4.5ZM9 7a2.25 2.25 0 1 0 0 4.5A2.25 2.25 0 1 0 9 7Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0),l=Object(s.a)("Icon28EducationOutline","education_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="education_outline_28"><path fill-rule="evenodd" d="M13.036 3.249a2 2 0 0 1 1.928 0l9.995 5.499A2.02 2.02 0 0 1 26 10.5V18a1 1 0 1 1-2 0v-5.22l-2 1.1v3.161c0 .425 0 .685-.014.912a7.5 7.5 0 0 1-7.033 7.033c-.317.02-.636.014-.953.014-.317 0-.636.006-.953-.014a7.5 7.5 0 0 1-7.033-7.033A16.16 16.16 0 0 1 6 17.04v-3.157l-2.967-1.631c-1.383-.76-1.383-2.746 0-3.506L13.036 3.25ZM8 14.983V17c0 .479 0 .674.01.832a5.5 5.5 0 0 0 5.158 5.158c.158.01.353.01.832.01s.674 0 .832-.01a5.5 5.5 0 0 0 5.158-5.158c.01-.158.01-.353.01-.832v-2.02l-5.036 2.771a2 2 0 0 1-1.928 0L8 14.983Zm6-9.982L3.996 10.5 14 15.999l9.995-5.499L14 5.001Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0),d=n(30),u=Object(s.a)("Icon28HomeOutline","home_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="home_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m15.13 2.691 8.936 8.49A3 3 0 0 1 25 13.356v8.641a2.5 2.5 0 0 1-2.5 2.5h-6a1 1 0 0 1-1-1v-5.5a1.5 1.5 0 0 0-3 0v5.5a1 1 0 0 1-1 1h-6a2.5 2.5 0 0 1-2.5-2.5v-8.641a3 3 0 0 1 .934-2.175l8.936-8.49a1.64 1.64 0 0 1 2.26 0ZM14 4.377 5.311 12.63a1 1 0 0 0-.311.725v8.641a.5.5 0 0 0 .5.5h5v-4.5a3.5 3.5 0 0 1 7 0v4.5h5a.5.5 0 0 0 .5-.5v-8.641a1 1 0 0 0-.311-.725L14 4.377Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0),j=Object(s.a)("Icon28CalendarOutline","calendar_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="calendar_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M19 1a1 1 0 0 1 1 1v1.16c.84.133 1.384.35 1.93.641A5.452 5.452 0 0 1 24.2 6.07c.475.889.748 1.77.794 3.93L25 10v7.308l-.005.61c-.041 2.22-.315 3.113-.796 4.013a5.452 5.452 0 0 1-2.268 2.268c-.978.523-1.948.801-4.623.801h-6.616l-.61-.005c-2.22-.041-3.113-.315-4.013-.796a5.452 5.452 0 0 1-2.268-2.268c-.502-.94-.778-1.87-.8-4.31L3 10.691V10c.053-2.16.326-3.042.801-3.93A5.452 5.452 0 0 1 6.07 3.8 5.679 5.679 0 0 1 8 3.16V2a1 1 0 1 1 2 0v1.007c.217-.005.447-.007.692-.007h6.616c.245 0 .476.002.694.007L18 2a1 1 0 0 1 1-1Zm3.999 11H5v5.591l.01.57c.039 1.506.198 2.159.555 2.826.337.63.818 1.111 1.448 1.448.746.4 1.473.551 3.396.564h7.182l.57-.009c1.506-.039 2.159-.198 2.826-.555a3.453 3.453 0 0 0 1.448-1.448c.4-.746.551-1.473.564-3.396V12Zm-3.953 5c.433 0 .774.081 1.059.234.285.152.509.376.661.661.153.285.234.626.234 1.059v.092c0 .433-.081.774-.234 1.059a1.59 1.59 0 0 1-.661.661c-.285.153-.626.234-1.059.234h-.092c-.433 0-.774-.081-1.059-.234a1.59 1.59 0 0 1-.661-.661c-.153-.285-.234-.626-.234-1.059v-.092c0-.433.081-.774.234-1.059a1.59 1.59 0 0 1 .661-.661c.285-.153.626-.234 1.059-.234h.092ZM17.591 5H10.41L10 5.007V6a1 1 0 1 1-2 0v-.807c-.381.087-.683.21-.987.372a3.453 3.453 0 0 0-1.448 1.448c-.37.69-.527 1.365-.559 2.986L22.993 10l-.003-.16c-.039-1.507-.198-2.16-.555-2.827a3.453 3.453 0 0 0-1.448-1.448 3.835 3.835 0 0 0-.986-.372L20 6a1 1 0 0 1-2 0l.002-.994-.41-.005Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0),b=Object(s.a)("Icon28ClockOutline","clock_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="clock_outline_28"><path fill="currentColor" d="M14 2c6.626 0 12 5.372 12 12s-5.374 12-12 12C7.372 26 2 20.628 2 14S7.372 2 14 2Zm0 2C8.477 4 4 8.477 4 14s4.477 10 10 10c5.522 0 10-4.478 10-10S19.522 4 14 4Zm-.5 4a1 1 0 0 1 1 1v5.104l4.875 1.969a1 1 0 0 1-.75 1.854l-5.5-2.222a1 1 0 0 1-.625-.927V9a1 1 0 0 1 1-1Z" /></symbol>',28,28,!1,void 0),h=Object(s.a)("Icon16Dropdown","dropdown_16","0 0 16 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12" id="dropdown_16"><path fill="currentColor" d="M4.454 3.691a.9.9 0 0 0-1.108 1.418l4.096 3.203a.9.9 0 0 0 1.109 0l4.1-3.203a.9.9 0 1 0-1.109-1.418L7.997 6.46l-3.543-2.77Z" /></symbol>',16,12,!1,void 0),O=Object(s.a)("Icon28Favorite","favorite_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="favorite_28"><path d="m17.97 9.593 5.258.505c1.83.175 2.39 1.962.978 3.136l-4.116 3.42 1.528 5.573c.502 1.83-1.055 2.938-2.614 1.837l-5.002-3.533-5 3.533c-1.554 1.097-3.117-.006-2.615-1.837l1.528-5.572-4.116-3.421c-1.419-1.179-.86-2.96.977-3.137l5.257-.504 2.316-5.34c.725-1.671 2.582-1.67 3.307 0z" fill="currentColor" /></symbol>',28,28,!1,void 0),v=Object(s.a)("Icon24InfoCircleOutline","info_circle_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="info_circle_outline_24"><path d="M12 20.105a8.105 8.105 0 1 0 0-16.21 8.105 8.105 0 0 0 0 16.21ZM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10Zm0-12.372a1.316 1.316 0 1 1 0-2.632 1.316 1.316 0 0 1 0 2.632Zm-.947 2.822c0-.541.424-.98.947-.98.523 0 .947.439.947.98v3.83c0 .54-.424.98-.947.98-.523 0-.947-.44-.947-.98v-3.83Z" /></symbol>',24,24,!1,void 0),f=n(16),x=n.n(f),p=function(e){return e?e[0].toUpperCase()+e.slice(1):""},g=n(20),m=n(28),y=n(6),w=["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u044f","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"],S=["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],_=function(e){var t=e.onSelect,n=Object(r.useState)(0),s=Object(c.a)(n,2),a=s[0],i=s[1],l=Object(r.useMemo)((function(){var e=JSON.parse(sessionStorage.getItem("week"));return Array(30).fill(null).map((function(t,n){var c=new Date(Date.now()+864e5*n);return 1==c.getDay()&&n>0&&(e=e%4+1),{date:c,week:e}}))}),[]);Object(r.useEffect)((function(){t(l[a])}),[]);return Object(y.jsx)(o.Q,{mode:"accent",children:Object(y.jsx)(o.r,{arrowSize:"m",getScrollToLeft:function(e){return e-300},getScrollToRight:function(e){return e+300},children:l.map((function(e,n){return Object(y.jsxs)(o.R,{selected:a==n,onClick:function(){!function(e){t(l[e]),i(e)}(n)},children:["".concat(e.date.getDate()," ").concat(w[e.date.getMonth()]),Object(y.jsx)("br",{}),"".concat(S[e.date.getDay()])]},e.date)}))})})},C=["\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430","\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"],T=function(e){var t=e.onSelect,n=Object(r.useState)(0),s=Object(c.a)(n,2),a=s[0],i=s[1];Object(r.useEffect)((function(){t(a)}),[]);return Object(y.jsx)(o.Q,{mode:"accent",children:Object(y.jsx)(o.r,{arrowSize:"m",getScrollToLeft:function(e){return e-300},getScrollToRight:function(e){return e+300},children:C.map((function(e,n){return Object(y.jsx)(o.R,{selected:a==n,onClick:function(){!function(e){i(e),t(e)}(n)},children:"".concat(C[n])},n)}))})})},k=function(e){var t=e.children;return Object(y.jsx)("div",{className:"OutlineText",children:t})},L={"\u041b\u041a":"green","\u041f\u0417":"yellow","\u041b\u0420":"red","\u042d\u043a\u0437\u0430\u043c\u0435\u043d":"red","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f":"green"},F={"09:00":1,"10:35":2,"12:25":3,"14:00":4,"15:50":5,"17:25":6,"19:00":7,"20:40":8},M=["\u0412\u0441\u044f \u0433\u0440\u0443\u043f\u043f\u0430","1 \u043f\u043e\u0434\u0433\u0440\u0443\u043f\u043f\u0430","2 \u043f\u043e\u0434\u0433\u0440\u0443\u043f\u043f\u0430"],N=function(e){var t,n=Object(d.a)().toggleGroupFavoriteFlagSnackbar,s=Object(g.a)(null,"schedule_".concat(e.groupName)),f=Object(c.a)(s,2),w=f[0],S=f[1],C=Object(r.useState)(null),N=Object(c.a)(C,2),D=N[0],E=N[1],G=Object(r.useState)(!1),Z=Object(c.a)(G,2),I=Z[0],z=Z[1],R=Object(r.useState)(!1),A=Object(c.a)(R,2),P=A[0],V=A[1],H=Object(r.useState)(null),J=Object(c.a)(H,2),B=J[0],U=J[1],q=Object(r.useState)(0),W=Object(c.a)(q,2),X=W[0],Q=W[1],Y=Object(r.useState)(!1),K=Object(c.a)(Y,2),$=K[0],ee=K[1],te=Object(r.useState)(!1),ne=Object(c.a)(te,2),ce=ne[0],re=ne[1],oe=Object(r.useState)(null),se=Object(c.a)(oe,2),ae=(se[0],se[1],Object(r.useState)(null)),ie=Object(c.a)(ae,2),le=ie[0],de=ie[1],ue=Object(r.useRef)(),je=Object(r.useMemo)((function(){window.scrollTo(0,0);var e=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430","\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"];if(ce)return null===w||void 0===w?void 0:w.exams;var t=$?null===w||void 0===w?void 0:w.schedules[e[D+1]]:null===w||void 0===w?void 0:w.schedules[e[null===D||void 0===D?void 0:D.date.getDay()]];return $?t:(console.log(t),null===t||void 0===t?void 0:t.filter((function(e){var t;return null===(t=e.weekNumber)||void 0===t?void 0:t.includes(D.week)})).filter((function(e){return!X||(0==e.numSubgroup||e.numSubgroup==X)})).filter((function(e){var t,n;return Date.parse(null===(t=e.endLessonDate)||void 0===t?void 0:t.split(".").reverse().join("/"))-(null===D||void 0===D?void 0:D.date)>-864e5&&Date.parse(null===(n=e.startLessonDate)||void 0===n?void 0:n.split(".").reverse().join("/"))-(null===D||void 0===D?void 0:D.date)<0})))}),[D,X,w]),be=Object(r.useMemo)((function(){return Object(y.jsx)(o.a,{onClose:function(){return e.onOpenPopout(null)},iosCloseItem:Object(y.jsx)(o.b,{}),toggleRef:ue,children:M.map((function(e,t){return Object(y.jsx)(o.c,{onChange:function(){return Q(t)},checked:X===t,autoclose:!0,selectable:!0,children:e})}))})}),[X]);Object(r.useEffect)((function(){w||x.a.get("https://iis.bsuir.by/api/v1/schedule?studentGroup=".concat(e.groupName)).then((function(e){var t=e.data;t.endDate=t.endDate.split(".").reverse().join("/"),t.startDate=t.startDate.split(".").reverse().join("/"),S(t),z(!1)})).catch((function(e){V(!0)}))}),[]),Object(r.useEffect)((function(){ce&&E(null)}),[ce]);var he=function(){z(!0),x.a.get("https://iis.bsuir.by/api/v1/schedule?studentGroup=".concat(e.groupName)).then((function(e){var t=e.data;t.endDate=t.endDate.split(".").reverse().join("/"),t.startDate=t.startDate.split(".").reverse().join("/"),S(t),z(!1),V(!1)})).catch((function(e){z(!1),U(Object(y.jsx)(m.a,{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",setSnackbar:U}))}))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.y,{before:Object(y.jsx)(o.z,{onClick:function(){return e.groupContextMenuOpened?history.go(-2):history.back()}}),after:Object(y.jsxs)(y.Fragment,{children:[(null===w||void 0===w?void 0:w.exams.length)>0&&Object(y.jsx)(o.A,{onClick:function(){ee(!1),re(!ce)},children:Object(y.jsx)(l,{fill:!ce&&"var(--tabbar_inactive_icon)"})}),w&&Object(y.jsx)(o.A,{onClick:function(){ee(!$),re(!1)},children:Object(y.jsx)(j,{fill:!$&&"var(--tabbar_inactive_icon)"})})]}),children:Object(y.jsx)(o.B,{aside:Object(y.jsx)(h,{style:{transform:"rotate(".concat(e.groupContextMenuOpened?"180deg":"0",")")}}),onClick:function(){U(null),e.onToggleGroupContextMenu()},children:e.groupName})}),Object(y.jsx)(o.C,{opened:e.groupContextMenuOpened,onClose:function(){return e.onToggleGroupContextMenu()},children:Object(y.jsx)(o.u,{children:Object(y.jsxs)(o.j,{before:Object(y.jsxs)(y.Fragment,{children:[e.favoriteGroups.includes(e.groupName)&&Object(y.jsx)(O,{fill:"var(--accent)"}),!e.favoriteGroups.includes(e.groupName)&&Object(y.jsx)(a,{fill:"var(--accent)"})]}),onClick:function(){return e.onToggleGroupsFavorireFlag(e.groupName)},children:[e.favoriteGroups.includes(e.groupName)&&'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"',!e.favoriteGroups.includes(e.groupName)&&'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"']})})}),!w&&!P&&Object(y.jsx)(o.o,{style:{paddingTop:50},children:Object(y.jsx)(o.L,{})}),P&&Object(y.jsx)(o.o,{style:{paddingTop:50},children:Object(y.jsx)(o.E,{onRefresh:he,isFetching:I,children:Object(y.jsx)(o.D,{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})})}),w&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(o.m,{vertical:"top",filled:!0,getRef:de,children:[Object(y.jsx)(o.F,{multiline:!0,disabled:!0,caption:"".concat(w.studentGroupDto.facultyAbbrev,", ").concat(w.studentGroupDto.course," \u043a\u0443\u0440\u0441"),children:w.studentGroupDto.specialityName}),!ce&&Object(y.jsxs)(y.Fragment,{children:[!$&&Object(y.jsx)(_,{onSelect:E}),$&&Object(y.jsx)(T,{onSelect:E})]}),Object(y.jsx)(o.I,{wide:!0})]}),Object(y.jsxs)(o.o,{style:{paddingTop:(null===le||void 0===le?void 0:le.offsetHeight)-15*!$},header:!$&&Object(y.jsxs)(y.Fragment,{children:[!ce&&D&&Object(y.jsx)(o.p,{subtitle:"".concat(D.week,"-\u0430\u044f \u0443\u0447\u0435\u0431\u043d\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"),aside:Object(y.jsx)(o.t,{getRootRef:ue,onClick:function(){return e.onOpenPopout(be)},mode:"outline",size:"s",children:M[X]}),children:p(null===(t=D.date)||void 0===t?void 0:t.toLocaleString("ru-RU",{day:"numeric",month:"long",weekday:"long"}))}),ce&&Object(y.jsx)(o.p,{style:{justifyContent:"center"},children:"\u042d\u043a\u0437\u0430\u043c\u0435\u043d\u044b"})]}),children:[Object(y.jsxs)(o.E,{isFetching:I,onRefresh:he,children:[je&&Object(y.jsx)(o.i,{size:"l",children:je.map((function(t,n){var c,r;return Object(y.jsx)(o.h,{mode:"outline",children:Object(y.jsxs)("div",{className:"ScheduleCardInner",children:[Object(y.jsx)(o.s,{onClick:function(){return function(t){var n={header:t.subjectFullName,inner:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"LessonModalTeachers",children:null===t||void 0===t?void 0:t.employees.map((function(e){return Object(y.jsxs)("div",{className:"LessonModalAvatar",children:[Object(y.jsx)(o.f,{size:90,src:null===e||void 0===e?void 0:e.photoLink,className:"".concat(L[t.lessonTypeAbbrev]),shadow:!1}),Object(y.jsx)(o.S,{style:{textAlign:"center"},children:"".concat(null===e||void 0===e?void 0:e.lastName," ").concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.middleName)}),Object(y.jsx)(o.S,{style:{color:"var(--text_secondary)",textAlign:"center"},children:null===e||void 0===e?void 0:e.rank})]})}))}),t.auditories[0]&&Object(y.jsx)(o.J,{before:Object(y.jsx)(u,{}),disabled:!0,indicator:t.auditories[0],children:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f"}),ce&&Object(y.jsx)(o.J,{before:Object(y.jsx)(j,{}),disabled:!0,indicator:new Date(Date.parse(t.dateLesson.split(".").reverse().join("/"))).toLocaleString("ru-RU",{day:"numeric",month:"long"}),children:"\u0414\u0430\u0442\u0430"}),Object(y.jsx)(o.J,{before:Object(y.jsx)(b,{}),disabled:!0,indicator:"".concat(t.startLessonTime," - ").concat(t.endLessonTime),children:"\u0412\u0440\u0435\u043c\u044f"}),t.numSubgroup>0&&Object(y.jsx)(o.J,{before:Object(y.jsx)(i,{}),disabled:!0,indicator:t.numSubgroup,children:"\u041f\u043e\u0434\u0433\u0440\u0443\u043f\u043f\u0430"}),!ce&&Object(y.jsx)(o.J,{before:Object(y.jsx)(j,{}),disabled:!0,indicator:t.weekNumber.join(", "),children:"\u041d\u0435\u0434\u0435\u043b\u0438"})]})};e.onOpenModal(n)}(t)},className:"ScheduleCardInfoButton",children:Object(y.jsx)(v,{})}),Object(y.jsxs)("div",{className:"ScheduleCardInner__Time",children:[Object(y.jsx)(o.q,{style:{fontSize:".95em"},level:"1",weight:"1",children:t.startLessonTime}),Object(y.jsx)(o.q,{weight:"2",style:{color:"var(--text_secondary)",fontSize:".85em"},children:(ce?"|":F[t.startLessonTime])||"|"}),Object(y.jsx)(o.q,{style:{fontSize:".9em"},level:"2",children:t.endLessonTime})]}),Object(y.jsx)("div",{className:"ScheduleCardInner__Separator ".concat(L[t.lessonTypeAbbrev])}),Object(y.jsxs)("div",{className:"ScheduleCardInner__Content",children:[Object(y.jsx)(o.T,{level:"3",children:t.subject}),Object(y.jsxs)("div",{className:"LessonInfo",children:[Object(y.jsx)(k,{children:t.lessonTypeAbbrev}),ce&&Object(y.jsx)(k,{children:new Date(Date.parse(null===(c=t.dateLesson)||void 0===c?void 0:c.split(".").reverse().join("/"))).toLocaleString("ru-RU",{day:"numeric",month:"short"})}),t.auditories[0]&&Object(y.jsx)(k,{children:t.auditories[0]}),0!=t.numSubgroup&&Object(y.jsx)(k,{children:t.numSubgroup}),$&&Object(y.jsx)(k,{children:"\u043d\u0435\u0434. ".concat(null===(r=t.weekNumber)||void 0===r?void 0:r.join(", "))})]}),Object(y.jsx)(o.S,{style:{color:"var(--text_secondary)",fontSize:".9em"},children:t.employees.map((function(e){return"".concat(e.lastName," ").concat(e.firstName," ").concat(e.middleName)})).join(", ")}),t.note&&Object(y.jsx)(o.S,{style:{color:"var(--vkui--color_background_negative)",fontSize:".9em"},children:t.note})]})]})},n)}))}),(!je||!je.length)&&Object(y.jsx)(o.D,{children:"\u0412 \u044d\u0442\u043e\u0442 \u0434\u0435\u043d\u044c \u043d\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u0438\u0439"})]}),n]})]}),B]})},D=Object(s.a)("Icon28Users3Outline","users_3_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="users_3_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 14.5c3.862 0 6.5 1.759 6.5 4.5 0 1.93-1.284 3-3 3h-7c-1.716 0-3-1.07-3-3 0-2.741 2.638-4.5 6.5-4.5Zm8 0c2.746 0 4.5 1.657 4.5 3.75 0 1.692-1.293 2.75-2.75 2.75H23a1 1 0 0 1 0-2h.75c.431 0 .75-.26.75-.75 0-.962-.834-1.75-2.5-1.75a1 1 0 0 1 0-2Zm-16 0a1 1 0 0 1 0 2c-1.666 0-2.5.788-2.5 1.75 0 .49.319.75.75.75H5a1 1 0 0 1 0 2h-.75c-1.457 0-2.75-1.058-2.75-2.75 0-2.093 1.754-3.75 4.5-3.75Zm8 2c-2.888 0-4.5 1.075-4.5 2.5 0 .737.316 1 1 1h7c.684 0 1-.263 1-1 0-1.425-1.612-2.5-4.5-2.5ZM20 6a3.5 3.5 0 0 1 0 7 1 1 0 0 1 0-2l.144-.007A1.5 1.5 0 0 0 20 8l-.117-.007A1 1 0 0 1 20 6ZM8 6a1 1 0 0 1 .117 1.993L8 8a1.5 1.5 0 0 0-.144 2.993L8 11a1 1 0 0 1 0 2 3.5 3.5 0 0 1 0-7Zm6-1a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0),E={"\u041b\u041a":"green","\u041f\u0417":"yellow","\u041b\u0420":"red","\u042d\u043a\u0437\u0430\u043c\u0435\u043d":"red","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f":"green"},G={"09:00":1,"10:35":2,"12:25":3,"14:00":4,"15:50":5,"17:25":6,"19:00":7,"20:40":8},Z=function(e){var t,n=Object(d.a)().toggleTeachreFavoriteFlagSnackbar,s=Object(g.a)(null,"schedule_".concat(e.teacher.urlId)),f=Object(c.a)(s,2),w=f[0],S=f[1],C=Object(r.useState)(null),L=Object(c.a)(C,2),F=L[0],M=L[1],N=Object(r.useState)(!1),Z=Object(c.a)(N,2),I=Z[0],z=Z[1],R=Object(r.useState)(!1),A=Object(c.a)(R,2),P=A[0],V=A[1],H=Object(r.useState)(null),J=Object(c.a)(H,2),B=J[0],U=J[1],q=Object(r.useState)(!1),W=Object(c.a)(q,2),X=W[0],Q=W[1],Y=Object(r.useState)(!1),K=Object(c.a)(Y,2),$=K[0],ee=K[1],te=Object(r.useState)(null),ne=Object(c.a)(te,2),ce=ne[0],re=ne[1],oe=Object(r.useMemo)((function(){window.scrollTo(0,0);var e=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430","\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"];if($)return null===w||void 0===w?void 0:w.exams;var t=X?null===w||void 0===w?void 0:w.schedules[e[F+1]]:null===w||void 0===w?void 0:w.schedules[e[null===F||void 0===F?void 0:F.date.getDay()]];return X?t:null===t||void 0===t?void 0:t.filter((function(e){return e.weekNumber.includes(F.week)})).filter((function(e){var t,n;return Date.parse(null===(t=e.endLessonDate)||void 0===t?void 0:t.split(".").reverse().join("/"))-(null===F||void 0===F?void 0:F.date)>-864e5&&Date.parse(null===(n=e.startLessonDate)||void 0===n?void 0:n.split(".").reverse().join("/"))-(null===F||void 0===F?void 0:F.date)<0}))}),[F,w]);Object(r.useEffect)((function(){w||x.a.get("https://iis.bsuir.by/api/v1/employees/schedule/".concat(e.teacher.urlId)).then((function(e){var t=e.data;t.endDate=t.endDate.split(".").reverse().join("/"),t.startDate=t.startDate.split(".").reverse().join("/"),S(t),z(!1)})).catch((function(e){V(!0)}))}),[]),Object(r.useEffect)((function(){$&&M(null)}),[$]);var se=function(){z(!0),x.a.get("https://iis.bsuir.by/api/v1/employees/schedule/".concat(e.teacher.urlId)).then((function(e){var t=e.data;t.endDate=t.endDate.split(".").reverse().join("/"),t.startDate=t.startDate.split(".").reverse().join("/"),S(t),z(!1),V(!1)})).catch((function(e){z(!1),U(Object(y.jsx)(m.a,{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",setSnackbar:U}))}))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.y,{before:Object(y.jsx)(o.z,{onClick:function(){return e.teacherContextMenuOpened?history.go(-2):history.back()}}),after:Object(y.jsxs)(y.Fragment,{children:[(null===w||void 0===w?void 0:w.exams.length)>0&&Object(y.jsx)(o.A,{onClick:function(){Q(!1),ee(!$)},children:Object(y.jsx)(l,{fill:!$&&"var(--tabbar_inactive_icon)"})}),w&&Object(y.jsx)(o.A,{onClick:function(){Q(!X),ee(!1)},children:Object(y.jsx)(j,{fill:!X&&"var(--tabbar_inactive_icon)"})})]}),children:Object(y.jsx)(o.B,{aside:Object(y.jsx)(h,{style:{transform:"rotate(".concat(e.teacherContextMenuOpened?"180deg":"0",")")}}),onClick:function(){return e.onToggleTeacherContextMenu()},children:"".concat(e.teacher.lastName," ").concat(e.teacher.firstName[0],". ").concat(e.teacher.middleName[0],".")})}),Object(y.jsx)(o.C,{opened:e.teacherContextMenuOpened,onClose:function(){return e.onToggleTeacherContextMenu()},children:Object(y.jsx)(o.u,{children:Object(y.jsxs)(o.j,{before:Object(y.jsxs)(y.Fragment,{children:[e.favoriteTeachers.includes(e.teacher.id)&&Object(y.jsx)(O,{fill:"var(--accent)"}),!e.favoriteTeachers.includes(e.teacher.id)&&Object(y.jsx)(a,{fill:"var(--accent)"})]}),onClick:function(){return e.onToggleTeachersFavoriteFlagHandler(e.teacher.id)},children:[e.favoriteTeachers.includes(e.teacher.id)&&'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"',!e.favoriteTeachers.includes(e.teacher.id)&&'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"']})})}),!w&&!P&&Object(y.jsx)(o.o,{style:{paddingTop:50},children:Object(y.jsx)(o.L,{})}),P&&Object(y.jsx)(o.o,{style:{paddingTop:50},children:Object(y.jsx)(o.E,{onRefresh:se,isFetching:I,children:Object(y.jsx)(o.D,{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})})}),w&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(o.m,{vertical:"top",filled:!0,getRef:re,children:[Object(y.jsx)(o.F,{multiline:!0,disabled:!0,caption:w.employeeDto.rank,before:Object(y.jsx)(o.f,{size:48,src:w.employeeDto.photoLink}),children:"".concat(w.employeeDto.lastName," ").concat(w.employeeDto.firstName," ").concat(w.employeeDto.middleName)}),!$&&Object(y.jsxs)(y.Fragment,{children:[!X&&Object(y.jsx)(_,{onSelect:M}),X&&Object(y.jsx)(T,{onSelect:M})]}),Object(y.jsx)(o.I,{wide:!0})]}),Object(y.jsxs)(o.o,{style:{paddingTop:(null===ce||void 0===ce?void 0:ce.offsetHeight)-15*!X},header:!X&&Object(y.jsxs)(y.Fragment,{children:[!$&&F&&Object(y.jsx)(o.p,{subtitle:"".concat(F.week,"-\u0430\u044f \u0443\u0447\u0435\u0431\u043d\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"),children:p(null===(t=F.date)||void 0===t?void 0:t.toLocaleString("ru-RU",{day:"numeric",month:"long",weekday:"long"}))}),$&&Object(y.jsx)(o.p,{style:{justifyContent:"center"},children:"\u042d\u043a\u0437\u0430\u043c\u0435\u043d\u044b"})]}),children:[Object(y.jsxs)(o.E,{isFetching:I,onRefresh:se,children:[oe&&Object(y.jsx)(o.i,{size:"l",children:oe.map((function(t,n){var c;return Object(y.jsx)(o.h,{mode:"outline",children:Object(y.jsxs)("div",{className:"ScheduleCardInner",children:[Object(y.jsx)(o.s,{onClick:function(){return function(t){var n={header:t.subjectFullName,inner:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"LessonModalAvatar",children:[Object(y.jsx)(o.f,{size:90,className:"".concat(E[t.lessonTypeAbbrev]),shadow:!1,children:Object(y.jsx)(D,{width:40,height:40})}),Object(y.jsx)(o.S,{style:{textAlign:"center"},children:t.studentGroups.map((function(e){return e.name})).join(", ")})]}),t.auditories[0]&&Object(y.jsx)(o.J,{before:Object(y.jsx)(u,{}),disabled:!0,indicator:t.auditories[0],children:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f"}),$&&Object(y.jsx)(o.J,{before:Object(y.jsx)(j,{}),disabled:!0,indicator:new Date(Date.parse(t.dateLesson.split(".").reverse().join("/"))).toLocaleString("ru-RU",{day:"numeric",month:"long"}),children:"\u0414\u0430\u0442\u0430"}),Object(y.jsx)(o.J,{before:Object(y.jsx)(b,{}),disabled:!0,indicator:"".concat(t.startLessonTime," - ").concat(t.endLessonTime),children:"\u0412\u0440\u0435\u043c\u044f"}),t.numSubgroup>0&&Object(y.jsx)(o.J,{before:Object(y.jsx)(i,{}),disabled:!0,indicator:t.numSubgroup,children:"\u041f\u043e\u0434\u0433\u0440\u0443\u043f\u043f\u0430"}),!$&&Object(y.jsx)(o.J,{before:Object(y.jsx)(j,{}),disabled:!0,indicator:t.weekNumber.join(", "),children:"\u041d\u0435\u0434\u0435\u043b\u0438"})]})};e.onOpenModal(n)}(t)},className:"ScheduleCardInfoButton",children:Object(y.jsx)(v,{})}),Object(y.jsxs)("div",{className:"ScheduleCardInner__Time",children:[Object(y.jsx)(o.q,{style:{fontSize:".95em"},level:"1",weight:"1",children:t.startLessonTime}),Object(y.jsx)(o.q,{weight:"2",style:{color:"var(--text_secondary)",fontSize:".85em"},children:($?"|":G[t.startLessonTime])||"|"}),Object(y.jsx)(o.q,{style:{fontSize:".9em"},level:"2",children:t.endLessonTime})]}),Object(y.jsx)("div",{className:"ScheduleCardInner__Separator ".concat(E[t.lessonTypeAbbrev])}),Object(y.jsxs)("div",{className:"ScheduleCardInner__Content",children:[Object(y.jsx)(o.T,{level:"3",children:t.subject}),Object(y.jsxs)("div",{className:"LessonInfo",children:[Object(y.jsx)(k,{children:t.lessonTypeAbbrev}),$&&Object(y.jsx)(k,{children:new Date(Date.parse(null===(c=t.dateLesson)||void 0===c?void 0:c.split(".").reverse().join("/"))).toLocaleString("ru-RU",{day:"numeric",month:"short"})}),t.auditories[0]&&Object(y.jsx)(k,{children:t.auditories[0]}),0!=t.numSubgroup&&Object(y.jsx)(k,{children:t.numSubgroup}),X&&Object(y.jsx)(k,{children:"\u043d\u0435\u0434. ".concat(t.weekNumber.join(", "))})]}),Object(y.jsx)(o.S,{style:{color:"var(--text_secondary)",fontSize:".9em"},children:t.studentGroups.map((function(e){return e.name})).join(", ")}),t.note&&Object(y.jsx)(o.S,{style:{color:"var(--vkui--color_background_negative)",fontSize:".9em"},children:t.note})]})]})},n)}))}),(!oe||!oe.length)&&Object(y.jsx)(o.D,{children:"\u0412 \u044d\u0442\u043e\u0442 \u0434\u0435\u043d\u044c \u043d\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u0438\u0439"})]}),n]})]}),B]})},I=n(29),z=function(e,t,n){var o=Object(r.useState)(t),s=Object(c.a)(o,2),a=s[0],i=s[1],l=Object(r.useState)(!1),d=Object(c.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)([]),h=Object(c.a)(b,2),O=h[0],v=h[1];Object(r.useEffect)((function(){u&&e.length>30?(v([].concat(Object(I.a)(O),Object(I.a)(e.slice(30*a,30*a+30)))),i((function(e){return e+1})),j(!1)):j(!1)}),[u]),Object(r.useEffect)((function(){i(1),v(e.slice(0,30))}),[e]),Object(r.useEffect)((function(){return window.addEventListener("scroll",f),function(){window.removeEventListener("scroll",f)}}),[]);var f=function(e){e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<100&&j(!0)};return[O]},R=function(e,t,n){var o=Object(r.useState)(n),s=Object(c.a)(o,2),a=s[0],i=s[1],l=function(){return e&&null!=t?e.filter((function(e){return e[t].toLowerCase().indexOf(a.toLowerCase())>-1})):e&&null==t?e.filter((function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1})):[]},d=Object(r.useState)(l()),u=Object(c.a)(d,2),j=u[0],b=u[1];return Object(r.useEffect)((function(){b(l())}),[e,a]),[a,j,function(e){i(e)}]},A=function(e){var t=Object(d.a)(),n=t.groups,s=t.errorLoadingGroupList,i=t.favoriteGroups,l=t.toggleGroupsFavoriteFlag,u=t.closeSnackbars,j=t.fetchingGroups,b=t.onGroupRefresh,h=t.toggleGroupFavoriteFlagSnackbar,v=t.refreshGroupsErrorSnackbar,f=R(n,"name",history.state.searchValue),x=Object(c.a)(f,3),p=x[0],g=x[1],m=x[2],w=z(g,1),S=Object(c.a)(w,1)[0];Object(r.useEffect)((function(){window.scrollTo(window.scrollX,0);var e=history.state;e.searchValue=p,history.replaceState(e,"")}),[p]),Object(r.useEffect)((function(){return window.addEventListener("popstate",_),function(){window.removeEventListener("popstate",_)}}),[]);var _=function(){history.state&&m(history.state.searchValue)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.y,{children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),Object(y.jsx)(o.m,{vertical:"top",filled:"true",children:Object(y.jsx)(o.H,{readOnly:!n||j,value:p,onChange:function(e){return function(e){history.state.isSearch?history.replaceState({activeStory:"groups",searchValue:e.target.value,isSearch:!0,groups_activePanel:"groups-list",groups_contextOpened:!1,body_overflow:"visible"},""):history.pushState({activeStory:"groups",searchValue:e.target.value,isSearch:!0,groups_activePanel:"groups-list",groups_contextOpened:!1,body_overflow:"visible"},""),m(e.target.value)}(e)},after:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(y.jsxs)(o.o,{style:{paddingTop:50},children:[!n&&!s&&Object(y.jsx)(o.L,{}),s&&Object(y.jsx)(o.E,{onRefresh:b,isFetching:j,style:{minHeight:350},children:Object(y.jsx)(o.D,{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f"})}),n&&!s&&Object(y.jsxs)(o.E,{onRefresh:b,isFetching:j,style:{minHeight:350},children:[Object(y.jsx)(o.u,{children:g.length>0&&S.map((function(t){return Object(y.jsx)(o.J,{onClick:function(){var n;n=t.name,e.onGroupSelect(n)},expandable:!0,before:Object(y.jsx)(o.s,{onClick:function(e){return function(e,t){e.stopPropagation(),l(t),u()}(e,t.name)},children:i.includes(t.name)?Object(y.jsx)(O,{fill:"var(--accent)"}):Object(y.jsx)(a,{fill:"var(--accent)"})}),children:t.name},t.id)}))}),0===g.length&&Object(y.jsx)(o.n,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]}),h,v]})]})},P=function(e){var t=Object(d.a)(),n=t.teachers,s=t.errorLoadingTeachersList,i=t.favoriteTeachers,l=t.toggleTeachersFavoriteFlag,u=t.closeSnackbars,j=t.fetchingTeachers,b=t.onTeachersRefresh,h=t.toggleTeachreFavoriteFlagSnackbar,v=t.refreshTeachersErrorSnackbar,f=R(n,"fullName",history.state.searchValue),x=Object(c.a)(f,3),p=x[0],g=x[1],m=x[2],w=z(g,1),S=Object(c.a)(w,1)[0];Object(r.useEffect)((function(){window.scrollTo(window.scrollX,0);var e=history.state;e.searchValue=p,history.replaceState(e,"")}),[p]),Object(r.useEffect)((function(){return window.addEventListener("popstate",_),function(){window.removeEventListener("popstate",_)}}),[]);var _=function(){history.state&&m(history.state.searchValue)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.y,{children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(y.jsx)(o.m,{vertical:"top",filled:"true",children:Object(y.jsx)(o.H,{readOnly:!n||j,value:p,onChange:function(e){return function(e){history.state.isSearch?history.replaceState({activeStory:"teachers",searchValue:e.target.value,isSearch:!0,teachers_activePanel:"teachers-list",teachers_contextOpened:!1,body_overflow:"visible"},""):history.pushState({activeStory:"teachers",searchValue:e.target.value,isSearch:!0,teachers_activePanel:"teachers-list",teachers_contextOpened:!1,body_overflow:"visible"},""),m(e.target.value)}(e)},after:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(y.jsxs)(o.o,{style:{paddingTop:50},children:[!n&&!s&&Object(y.jsx)(o.L,{}),s&&Object(y.jsx)(o.E,{onRefresh:b,isFetching:j,style:{minHeight:350},children:Object(y.jsx)(o.D,{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})}),n&&!s&&Object(y.jsxs)(o.E,{onRefresh:b,isFetching:j,style:{minHeight:350},children:[Object(y.jsx)(o.u,{children:g.length>0&&S.map((function(t){return Object(y.jsx)(o.J,{onClick:function(){var n;n=t.id,e.onTeacherSelect(n)},expandable:!0,description:t.rank,before:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.s,{onClick:function(e){return function(e,t){e.stopPropagation(),l(t),u()}(e,t.id)},children:i.includes(t.id)?Object(y.jsx)(O,{fill:"var(--accent)"}):Object(y.jsx)(a,{fill:"var(--accent)"})}),Object(y.jsx)(o.f,{src:t.photoLink})]}),children:t.fullName},t.id)}))}),0===g.length&&Object(y.jsx)(o.n,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]}),h,v]})]})},V=Object(s.a)("Icon24Replay","replay_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="replay_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M12 5a8 8 0 1 1-8 8 1 1 0 0 1 2 0 6 6 0 1 0 6-6v3.096a.4.4 0 0 1-.67.296L7.044 6.493a.667.667 0 0 1 0-.986l4.288-3.899a.4.4 0 0 1 .669.296V5Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0),H=function(e){var t=Object(d.a)(),n=t.favoriteGroups,c=t.favoriteTeachers,s=t.groups,a=t.teachers,i=t.toggleGroupsFavoriteFlag,l=t.closeSnackbars,u=t.toggleGroupFavoriteFlagSnackbar,j=t.toggleTeachreFavoriteFlagSnackbar,b=t.toggleTeachersFavoriteFlag,h=t.errorLoadingGroupList,v=t.errorLoadingTeachersList,f=t.onReload;Object(r.useEffect)((function(){return window.addEventListener("popstate",x),function(){window.removeEventListener("popstate",x)}}),[]);var x=function(){history.state&&setSearchValue(history.state.searchValue)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.y,{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),(!s||!a)&&!h&&!v&&Object(y.jsx)(o.o,{style:{paddingTop:50},children:Object(y.jsx)(o.L,{})}),(h||v)&&Object(y.jsx)(o.o,{style:{paddingTop:50},children:Object(y.jsx)(o.D,{action:Object(y.jsx)(o.g,{onClick:f,before:Object(y.jsx)(V,{}),mode:"outline",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f \u0438\u043b\u0438 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})}),n.length>0&&s&&a&&Object(y.jsxs)(o.o,{header:Object(y.jsx)(o.p,{children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),children:[Object(y.jsx)(o.u,{children:n.map((function(t){return Object(y.jsx)(o.J,{expandable:!0,onClick:function(){return e.onGroupSelect(t)},before:Object(y.jsx)(o.s,{onClick:function(e){return function(e,t){e.stopPropagation(),i(t),l()}(e,t)},children:Object(y.jsx)(O,{fill:"var(--accent)"})}),children:t},t)}))}),u]}),c.length>0&&a&&s&&Object(y.jsxs)(o.o,{header:Object(y.jsx)(o.p,{children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"}),children:[Object(y.jsx)(o.u,{children:c.map((function(t){var n=a.find((function(e){return e.id==t}));return Object(y.jsx)(o.J,{onClick:function(){return e.onTeacherSelect(n.id)},expandable:!0,description:n.rank,before:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.s,{onClick:function(e){return function(e,t){e.stopPropagation(),b(t),l()}(e,n.id)},children:Object(y.jsx)(O,{fill:"var(--accent)"})}),Object(y.jsx)(o.f,{src:n.photoLink})]}),children:n.fullName},t)}))}),j]})]})};t.default=function(){var e=Object(o.Y)().viewWidth,t=Object(o.Z)(),n=e>=o.W.TABLET,s=t!==o.U,u=Object(r.useState)("favorites"),j=Object(c.a)(u,2),b=j[0],h=j[1],O=Object(r.useState)("groups-list"),v=Object(c.a)(O,2),f=v[0],x=v[1],p=Object(r.useState)("teachers-list"),g=Object(c.a)(p,2),m=g[0],w=g[1],S=Object(r.useState)("favorites-list"),_=Object(c.a)(S,2),C=_[0],T=_[1],k=Object(r.useState)(""),L=Object(c.a)(k,2),F=L[0],M=L[1],D=Object(r.useState)({}),E=Object(c.a)(D,2),G=E[0],I=E[1],z=Object(r.useState)(!1),R=Object(c.a)(z,2),V=R[0],J=R[1],B=Object(r.useState)(!1),U=Object(c.a)(B,2),q=U[0],W=U[1],X=Object(r.useState)(null),Q=Object(c.a)(X,2),Y=Q[0],K=Q[1],$=Object(r.useState)(null),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],ce=Object(r.useState)(null),re=Object(c.a)(ce,2),oe=re[0],se=re[1],ae=Object(d.a)(),ie=ae.favoriteGroups,le=ae.toggleGroupsFavoriteFlag,de=ae.favoriteTeachers,ue=ae.toggleTeachersFavoriteFlag,je=ae.closeSnackbars;Object(r.useEffect)((function(){return window.addEventListener("popstate",Oe),function(){window.removeEventListener("popstate",Oe)}}),[]);var be=Object(r.useMemo)((function(){return Object(y.jsx)(o.k,{platform:"ios",children:Object(y.jsx)(o.w,{activeModal:Y,onClose:function(){return K(null)},children:Object(y.jsx)(o.v,{id:"lessonInfo",onClose:function(){return K(null)},header:null===te||void 0===te?void 0:te.header,subheader:null===te||void 0===te?void 0:te.subHeader,children:null===te||void 0===te?void 0:te.inner})})})}),[te,Y]),he=function(e){je(),history.pushState({activeStory:e.currentTarget.dataset.story,searchValue:"",isSearch:!1,groups_activePanel:"groups-list",teachers_activePanel:"teachers-list",favorites_activePanel:"favorites-list",groups_contextOpened:!1,body_overflow:"visible"},""),x("groups-list"),w("teachers-list"),T("favorites-list"),h(e.currentTarget.dataset.story)},Oe=function(){je(),history.state&&(J(history.state.groups_contextOpened),W(history.state.teachers_contextOpened),h(history.state.activeStory),x(history.state.groups_activePanel),w(history.state.teachers_activePanel),T(history.state.favorites_activePanel),document.body.style.overflow=history.state.body_overflow)},ve=function(e){je(),"groups"===b?(history.pushState({activeStory:"groups",searchValue:"",isSearch:!1,groups_activePanel:"group-schedule",groups_contextOpened:!1,body_overflow:"visible"},""),x("group-schedule")):(history.pushState({activeStory:"favorites",searchValue:"",isSearch:!1,favorites_activePanel:"group-schedule",groups_contextOpened:!1,body_overflow:"visible"},""),T("group-schedule")),M(e),window.scrollTo(window.scrollX,0)},fe=function(e){je(),"teachers"===b?(history.pushState({activeStory:"teachers",searchValue:"",isSearch:!1,teachers_activePanel:"teacher-schedule",teachers_contextOpened:!1,body_overflow:"visible"},""),w("teacher-schedule")):(history.pushState({activeStory:"favorites",searchValue:"",isSearch:!1,favorites_activePanel:"teacher-schedule",teachers_contextOpened:!1,body_overflow:"visible"},""),T("teacher-schedule"));var t=localStorage.getItem("teachers")?JSON.parse(localStorage.getItem("teachers")):[];I(t.find((function(t){return t.id===e}))),window.scrollTo(window.scrollX,0)},xe=function(){if(V)history.back();else{var e=history.state;e.groups_contextOpened=!0,e.body_overflow="hidden",document.body.style.overflow="hidden",history.pushState(e,""),J(!0)}},pe=function(){if(q)history.back();else{var e=history.state;e.teachers_contextOpened=!0,e.body_overflow="hidden",document.body.style.overflow="hidden",history.pushState(e,""),W(!0)}},ge=function(e){xe(),le(e)},me=function(e){pe(),ue(e)},ye=function(e){ne(e),K("lessonInfo")};return Object(y.jsxs)(o.N,{header:s&&Object(y.jsx)(o.y,{separator:!1}),style:{justifyContent:"center"},modal:be,popout:oe,children:[n&&Object(y.jsx)(o.M,{fixed:!0,width:280,maxWidth:280,children:Object(y.jsxs)(o.x,{children:[s&&Object(y.jsx)(o.y,{}),Object(y.jsxs)(o.o,{children:[Object(y.jsx)(o.j,{disabled:"favorites"===b,style:"favorites"===b?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"favorites",onClick:he,before:Object(y.jsx)(a,{}),children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(y.jsx)(o.j,{disabled:"groups"===b,style:"groups"===b?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"groups",onClick:he,before:Object(y.jsx)(i,{}),children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),Object(y.jsx)(o.j,{disabled:"teachers"===b,style:"teachers"===b?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"teachers",onClick:he,before:Object(y.jsx)(l,{}),children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"})]})]})}),Object(y.jsx)(o.M,{animate:!n,spaced:n,width:n?"560px":"100%",maxWidth:n?"560px":"100%",children:Object(y.jsxs)(o.l,{activeStory:b,tabbar:!n&&Object(y.jsxs)(o.O,{children:[Object(y.jsx)(o.P,{onClick:he,selected:"favorites"===b,"data-story":"favorites",text:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",children:Object(y.jsx)(a,{})}),Object(y.jsx)(o.P,{onClick:he,selected:"groups"===b,"data-story":"groups",text:"\u0413\u0440\u0443\u043f\u043f\u044b",children:Object(y.jsx)(i,{})}),Object(y.jsx)(o.P,{onClick:he,selected:"teachers"===b,"data-story":"teachers",text:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438",children:Object(y.jsx)(l,{})})]}),children:[Object(y.jsxs)(o.V,{id:"favorites",activePanel:C,children:[Object(y.jsx)(o.x,{id:"favorites-list",children:Object(y.jsx)(H,{onGroupSelect:ve,onTeacherSelect:fe})}),Object(y.jsx)(o.x,{id:"group-schedule",children:Object(y.jsx)(N,{groupContextMenuOpened:V,onToggleGroupContextMenu:xe,onToggleGroupsFavorireFlag:ge,favoriteGroups:ie,groupName:F,onOpenModal:ye,onOpenPopout:se})}),Object(y.jsx)(o.x,{id:"teacher-schedule",children:Object(y.jsx)(Z,{teacherContextMenuOpened:q,onToggleTeacherContextMenu:pe,onToggleTeachersFavoriteFlagHandler:me,favoriteTeachers:de,teacher:G,onOpenModal:ye})})]}),Object(y.jsxs)(o.V,{id:"groups",activePanel:f,children:[Object(y.jsx)(o.x,{id:"groups-list",children:Object(y.jsx)(A,{onGroupSelect:ve})}),Object(y.jsx)(o.x,{id:"group-schedule",children:Object(y.jsx)(N,{groupContextMenuOpened:V,onToggleGroupContextMenu:xe,onToggleGroupsFavorireFlag:ge,favoriteGroups:ie,groupName:F,onOpenModal:ye,onOpenPopout:se})})]}),Object(y.jsxs)(o.V,{id:"teachers",activePanel:m,children:[Object(y.jsx)(o.x,{id:"teachers-list",children:Object(y.jsx)(P,{onTeacherSelect:fe})}),Object(y.jsx)(o.x,{id:"teacher-schedule",children:Object(y.jsx)(Z,{teacherContextMenuOpened:q,onToggleTeacherContextMenu:pe,onToggleTeachersFavoriteFlagHandler:me,favoriteTeachers:de,teacher:G,onOpenModal:ye})})]})]})})]})}}}]);
//# sourceMappingURL=3.45adfad2.chunk.js.map