(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[5],{176:function(e,t,r){"use strict";r.r(t);var c=r(16),n=r(0),a=r(8),o=r(171),s=r(173),i=r(174),l=r(22),u=r(20),j=r(170),h=r(140),d=r.n(h),f=r(23),b=r(5);var O=function(e){var t=Object(n.useState)(new AbortController),r=Object(c.a)(t,1)[0],s=Object(n.useState)(history.state.searchValue),i=Object(c.a)(s,2),h=i[0],O=i[1],g=Object(n.useState)(!!localStorage.getItem("groups")),p=Object(c.a)(g,2),v=p[0],x=p[1],S=Object(n.useState)(!1),m=Object(c.a)(S,2),y=m[0],w=m[1],C=Object(n.useState)(localStorage.getItem("groups")?JSON.parse(localStorage.getItem("groups")):[]),N=Object(c.a)(C,2),T=N[0],_=N[1],k=Object(n.useState)(localStorage.getItem("groups")?JSON.parse(localStorage.getItem("groups")).filter((function(e){return e.name.toLowerCase().indexOf(h.toLowerCase())>-1})):[]),L=Object(c.a)(k,2),E=L[0],F=L[1],I=Object(n.useState)(history.state.groups_CurrentPage),G=Object(c.a)(I,2),P=G[0],J=G[1],V=Object(n.useState)(!1),M=Object(c.a)(V,2),H=M[0],R=M[1],A=Object(n.useState)(!1),X=Object(c.a)(A,2),B=X[0],D=X[1],W=Object(n.useState)([]),q=Object(c.a)(W,2),z=q[0],K=q[1],Q=Object(n.useState)(null),U=Object(c.a)(Q,2),Y=U[0],Z=U[1],$=Object(f.a)(),ee=$.favoriteGroups,te=$.toggleGroupsFavoriteFlag;Object(n.useEffect)((function(){window.scrollTo(window.scrollX,0);var e=history.state;e.searchValue=h,history.replaceState(e,""),F(T.filter((function(e){return e.name.toLowerCase().indexOf(h.toLowerCase())>-1})))}),[h]),Object(n.useEffect)((function(){H&&E.length>30?(K([].concat(Object(l.a)(z),Object(l.a)(E.slice(30*P,30*P+30)))),J((function(e){return e+1})),R(!1)):R(!1)}),[H]),Object(n.useEffect)((function(){J(1),K(E.slice(0,30))}),[E]),Object(n.useEffect)((function(){v||d.a.get("https://iis.bsuir.by/api/v1/student-groups",{signal:r.signal}).then((function(e){localStorage.setItem("groups",JSON.stringify(e.data)),_(e.data),x((function(){return F(JSON.parse(localStorage.getItem("groups")).filter((function(e){return e.name.toLowerCase().indexOf(h.toLowerCase())>-1}))),!0}))})).catch((function(){w(!0)}))}),[]),Object(n.useEffect)((function(){return window.addEventListener("scroll",re),function(){window.removeEventListener("scroll",re)}}),[]),Object(n.useEffect)((function(){return function(){r.abort()}}),[]),Object(n.useEffect)((function(){return function(){Z(null)}}),[]),Object(n.useEffect)((function(){return window.addEventListener("popstate",ne),function(){window.removeEventListener("popstate",ne)}}),[]);var re=function(e){e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<100&&R(!0)},ce=function(){D(!0),d.a.get("https://iis.bsuir.by/api/v1/student-groups",{signal:r.signal}).then((function(e){localStorage.setItem("groups",JSON.stringify(e.data)),_(e.data),D((function(){return F(JSON.parse(localStorage.getItem("groups")).filter((function(e){return e.name.toLowerCase().indexOf(h.toLowerCase())>-1}))),!1})),y&&(x(!0),w(!1))})).catch((function(){D(!1),Z(ae)}))},ne=function(){history.state&&O(history.state.searchValue)},ae=Object(b.jsx)(a.x,{onClose:function(){return Z(null)},before:Object(b.jsx)(u.a,{fill:"var(--dynamic_red)",width:24,height:24}),duration:1700,children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f"});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(a.g,{vertical:"top",filled:"true",children:Object(b.jsx)(a.v,{readOnly:!v||B,value:h,onChange:function(e){return B?function(){}:function(e){history.state.isSearch?history.replaceState({activeStory:"groups",searchValue:e.target.value,isSearch:!0,groups_activePanel:"groups-list",groups_contextOpened:!1,body_overflow:"visible"},""):history.pushState({activeStory:"groups",searchValue:e.target.value,isSearch:!0,groups_activePanel:"groups-list",groups_contextOpened:!1,body_overflow:"visible"},""),O(e.target.value)}(e)},after:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(b.jsxs)(a.i,{style:{paddingTop:40},children:[!v&&!y&&Object(b.jsx)(a.r,{}),y&&Object(b.jsx)(a.t,{onRefresh:ce,isFetching:B,style:{minHeight:350},children:Object(b.jsx)(a.s,{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f"})}),v&&!y&&Object(b.jsxs)(a.t,{onRefresh:ce,isFetching:B,style:{minHeight:350},children:[Object(b.jsx)(a.l,{children:E.length>0&&z.map((function(t){return Object(b.jsx)(a.w,{onClick:function(){var r;r=t.name,e.onGroupSelect(r)},expandable:!0,before:Object(b.jsxs)(a.k,{onClick:function(e){return function(e,t){e.stopPropagation(),te(t),Z(null)}(e,t.name)},children:[ee.includes(t.name)&&Object(b.jsx)(j.a,{fill:"var(--accent)"}),!ee.includes(t.name)&&Object(b.jsx)(o.a,{fill:"var(--accent)"})]}),children:t.name},t.id)}))}),0===E.length&&Object(b.jsx)(a.h,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]}),Y]})]})};var g=function(e){var t=Object(n.useState)(new AbortController),r=Object(c.a)(t,1)[0],s=Object(n.useState)(history.state.searchValue),i=Object(c.a)(s,2),h=i[0],O=i[1],g=Object(n.useState)(!!localStorage.getItem("teachers")),p=Object(c.a)(g,2),v=p[0],x=p[1],S=Object(n.useState)(!1),m=Object(c.a)(S,2),y=m[0],w=m[1],C=Object(n.useState)(localStorage.getItem("teachers")?JSON.parse(localStorage.getItem("teachers")):[]),N=Object(c.a)(C,2),T=N[0],_=N[1],k=Object(n.useState)(localStorage.getItem("teachers")?JSON.parse(localStorage.getItem("teachers")).filter((function(e){return e.fullName.toLowerCase().indexOf(h.toLowerCase())>-1})):[]),L=Object(c.a)(k,2),E=L[0],F=L[1],I=Object(n.useState)(history.state.groups_CurrentPage),G=Object(c.a)(I,2),P=G[0],J=G[1],V=Object(n.useState)(!1),M=Object(c.a)(V,2),H=M[0],R=M[1],A=Object(n.useState)(!1),X=Object(c.a)(A,2),B=X[0],D=X[1],W=Object(n.useState)([]),q=Object(c.a)(W,2),z=q[0],K=q[1],Q=Object(n.useState)(null),U=Object(c.a)(Q,2),Y=U[0],Z=U[1],$=Object(f.a)(),ee=$.favoriteTeachers,te=$.toggleTeachersFavoriteFlag;Object(n.useEffect)((function(){window.scrollTo(window.scrollX,0);var e=history.state;e.searchValue=h,history.replaceState(e,""),F(T.filter((function(e){return e.fullName.toLowerCase().indexOf(h.toLowerCase())>-1})))}),[h]),Object(n.useEffect)((function(){H&&E.length>30?(K([].concat(Object(l.a)(z),Object(l.a)(E.slice(30*P,30*P+30)))),J((function(e){return e+1})),R(!1)):R(!1)}),[H]),Object(n.useEffect)((function(){J(1),K(E.slice(0,30))}),[E]),Object(n.useEffect)((function(){v||d.a.get("https://iis.bsuir.by/api/v1/employees/all",{signal:r.signal}).then((function(e){var t=e.data.map((function(e){return e.fullName=e.lastName+" "+e.firstName+" "+e.middleName,e}));localStorage.setItem("teachers",JSON.stringify(t)),_(t),x((function(){return F(JSON.parse(localStorage.getItem("teachers")).filter((function(e){return e.fullName.toLowerCase().indexOf(h.toLowerCase())>-1}))),!0}))})).catch((function(){w(!0)}))}),[]),Object(n.useEffect)((function(){return window.addEventListener("scroll",re),function(){window.removeEventListener("scroll",re)}}),[]),Object(n.useEffect)((function(){return function(){r.abort()}}),[]),Object(n.useEffect)((function(){return function(){Z(null)}}),[]),Object(n.useEffect)((function(){return window.addEventListener("popstate",ne),function(){window.removeEventListener("popstate",ne)}}),[]);var re=function(e){e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<100&&R(!0)},ce=function(){D(!0),d.a.get("https://iis.bsuir.by/api/v1/employees/all",{signal:r.signal}).then((function(e){var t=e.data.map((function(e){return e.fullName=e.lastName+" "+e.firstName+" "+e.middleName,e}));localStorage.setItem("teachers",JSON.stringify(t)),_(t),D((function(){return F(JSON.parse(localStorage.getItem("teachers")).filter((function(e){return e.fullName.toLowerCase().indexOf(h.toLowerCase())>-1}))),!1})),y&&(x(!0),w(!1))})).catch((function(){D(!1),Z(ae)}))},ne=function(){history.state&&O(history.state.searchValue)},ae=Object(b.jsx)(a.x,{onClose:function(){return Z(null)},before:Object(b.jsx)(u.a,{fill:"var(--dynamic_red)",width:24,height:24}),duration:1700,children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439"});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(a.g,{vertical:"top",filled:"true",children:Object(b.jsx)(a.v,{readOnly:!v||B,value:h,onChange:function(e){return B?function(){}:function(e){history.state.isSearch?history.replaceState({activeStory:"teachers",searchValue:e.target.value,isSearch:!0,teachers_activePanel:"teachers-list",teachers_contextOpened:!1,body_overflow:"visible"},""):history.pushState({activeStory:"teachers",searchValue:e.target.value,isSearch:!0,teachers_activePanel:"teachers-list",teachers_contextOpened:!1,body_overflow:"visible"},""),O(e.target.value)}(e)},after:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(b.jsxs)(a.i,{style:{paddingTop:40},children:[!v&&!y&&Object(b.jsx)(a.r,{}),y&&Object(b.jsx)(a.t,{onRefresh:ce,isFetching:B,style:{minHeight:350},children:Object(b.jsx)(a.s,{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})}),v&&!y&&Object(b.jsxs)(a.t,{onRefresh:ce,isFetching:B,style:{minHeight:350},children:[Object(b.jsx)(a.l,{children:E.length>0&&z.map((function(t){return Object(b.jsx)(a.w,{onClick:function(){return r=t.id,void e.onTeacherSelect(r);var r},before:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(a.k,{onClick:function(e){return function(e,t){e.stopPropagation(),te(t),Z(null)}(e,t.id)},children:[ee.includes(t.id)&&Object(b.jsx)(j.a,{fill:"var(--accent)"}),!ee.includes(t.id)&&Object(b.jsx)(o.a,{fill:"var(--accent)"})]}),Object(b.jsx)(a.c,{src:t.photoLink})]}),description:t.rank,children:t.fullName},t.id)}))}),0===E.length&&Object(b.jsx)(a.h,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]}),Y]})]})},p=r(172),v=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(a.n,{before:Object(b.jsx)(a.o,{onClick:function(){return e.groupContextMenuOpened?history.go(-2):history.back()}}),children:Object(b.jsx)(a.p,{aside:Object(b.jsx)(p.a,{style:{transform:"rotate(".concat(e.groupContextMenuOpened?"180deg":"0",")")}}),onClick:function(){return e.onToggleGroupContextMenu()},children:e.groupName})}),Object(b.jsx)(a.q,{opened:e.groupContextMenuOpened,onClose:function(){return e.onToggleGroupContextMenu()},children:Object(b.jsx)(a.l,{children:Object(b.jsxs)(a.d,{before:Object(b.jsxs)(b.Fragment,{children:[e.favoriteGroups.includes(e.groupName)&&Object(b.jsx)(j.a,{fill:"var(--accent)"}),!e.favoriteGroups.includes(e.groupName)&&Object(b.jsx)(o.a,{fill:"var(--accent)"})]}),onClick:function(){return e.onToggleGroupsFavorireFlag(e.groupName)},children:[e.favoriteGroups.includes(e.groupName)&&'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"',!e.favoriteGroups.includes(e.groupName)&&'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"']})})}),Object(b.jsxs)(a.i,{style:{height:"1000px"},children:[Object(b.jsxs)(a.s,{icon:Object(b.jsx)(s.a,{width:56,height:56}),children:["\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b ",e.groupName]}),e.snackbar]})]})};var x=function(e){var t=Object(n.useState)(new AbortController),r=Object(c.a)(t,1)[0],o=Object(n.useState)(history.state.searchValue),s=Object(c.a)(o,2),i=s[0],l=s[1],h=Object(f.a)(),O=h.favoriteGroups,g=h.favoriteTeachers,p=h.toggleGroupsFavoriteFlag,v=h.toggleTeachersFavoriteFlag,x=Object(n.useState)(!!localStorage.getItem("groups")),S=Object(c.a)(x,2),m=S[0],y=S[1],w=Object(n.useState)(!1),C=Object(c.a)(w,2),N=C[0],T=C[1],_=Object(n.useState)(localStorage.getItem("groups")?JSON.parse(localStorage.getItem("groups")).filter((function(e){var t=e.name;return O.includes(t.toLowerCase())})):[]),k=Object(c.a)(_,2),L=k[0],E=k[1],F=Object(n.useState)(localStorage.getItem("groups")?JSON.parse(localStorage.getItem("groups")).filter((function(e){var t=e.name;return O.includes(t.toLowerCase())})):[]),I=Object(c.a)(F,2),G=I[0],P=I[1],J=Object(n.useState)(localStorage.getItem("teachers")?JSON.parse(localStorage.getItem("teachers")).filter((function(e){var t=e.id;return g.includes(t)})):[]),V=Object(c.a)(J,2),M=V[0],H=V[1],R=Object(n.useState)(!1),A=Object(c.a)(R,2),X=A[0],B=A[1],D=Object(n.useState)(!!localStorage.getItem("teachers")),W=Object(c.a)(D,2),q=W[0],z=W[1],K=Object(n.useState)(localStorage.getItem("teachers")?JSON.parse(localStorage.getItem("teachers")).filter((function(e){var t=e.id;return g.includes(t)})):[]),Q=Object(c.a)(K,2),U=Q[0],Y=Q[1],Z=Object(n.useState)(!1),$=Object(c.a)(Z,2),ee=$[0],te=$[1],re=Object(n.useState)(null),ce=Object(c.a)(re,2),ne=ce[0],ae=ce[1];Object(n.useEffect)((function(){window.scrollTo(window.scrollX,0);var e=history.state;e.searchValue=i,history.replaceState(e,""),P(L.filter((function(e){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1}))),Y(M.filter((function(e){return e.fullName.toLowerCase().indexOf(i.toLowerCase())>-1})))}),[i]),Object(n.useEffect)((function(){P(L.filter((function(e){return O.includes(e.name)})))}),[O]),Object(n.useEffect)((function(){m||d.a.get("https://iis.bsuir.by/api/v1/student-groups",{signal:r.signal}).then((function(e){localStorage.setItem("groups",JSON.stringify(e.data)),E(e.data.filter((function(e){var t=e.name;return O.includes(t.toLowerCase())}))),y((function(){return P(e.data.filter((function(e){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1}))),!0}))})).catch((function(){T(!0)}))}),[]),Object(n.useEffect)((function(){q||d.a.get("https://iis.bsuir.by/api/v1/employees/all",{signal:r.signal}).then((function(e){var t=e.data.map((function(e){return e.fullName=e.lastName+" "+e.firstName+" "+e.middleName,e}));localStorage.setItem("teachers",JSON.stringify(t)),H(t.filter((function(e){var t=e.id;return g.includes(t)}))),z((function(){return Y(t.filter((function(e){return e.fullName.toLowerCase().indexOf(i.toLowerCase())>-1}))),!0}))})).catch((function(){B(!0)}))}),[]),Object(n.useEffect)((function(){return function(){r.abort()}}),[]),Object(n.useEffect)((function(){return function(){ae(null)}}),[]),Object(n.useEffect)((function(){return window.addEventListener("popstate",se),function(){window.removeEventListener("popstate",se)}}),[]);var oe=function(){te(!0),d.a.get("https://iis.bsuir.by/api/v1/student-groups",{signal:r.signal}).then((function(e){localStorage.setItem("groups",JSON.stringify(e.data)),E(e.data.filter((function(e){var t=e.name;return O.includes(t.toLowerCase())}))),te((function(){return P(e.data.filter((function(e){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1}))),!1})),N&&(y(!0),T(!1))})).catch((function(){te(!1),ae(ie)}))},se=function(){history.state&&l(history.state.searchValue)},ie=Object(b.jsx)(a.x,{onClose:function(){return ae(null)},before:Object(b.jsx)(u.a,{fill:"var(--dynamic_red)",width:24,height:24}),duration:1700,children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f"});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(a.g,{vertical:"top",filled:"true",children:Object(b.jsx)(a.v,{readOnly:!m||ee,value:i,onChange:function(e){return ee?function(){}:function(e){var t=history.state;t.isSearch?(t.isSearch=!0,t.searchValue=e.target.value,history.replaceState(t,"")):(t.isSearch=!0,t.searchValue=e.target.value,history.pushState(t,"")),l(e.target.value)}(e)},after:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(a.i,{style:{paddingTop:40},children:[m&&!N&&G.length>0&&Object(b.jsx)(a.i,{header:Object(b.jsx)(a.j,{children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),separator:"hide",children:Object(b.jsx)(a.t,{onRefresh:oe,isFetching:ee,children:Object(b.jsx)(a.l,{children:G.map((function(t){return Object(b.jsx)(a.w,{onClick:function(){var r;r=t.name,e.onGroupSelect(r)},expandable:!0,before:Object(b.jsx)(a.k,{onClick:function(e){return function(e,t){e.stopPropagation(),p(t),ae(null)}(e,t.name)},children:Object(b.jsx)(j.a,{fill:"var(--accent)"})}),children:t.name},t.id)}))})})}),q&&!X&&U.length>0&&Object(b.jsx)(a.i,{header:Object(b.jsx)(a.j,{children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"}),separator:"hide",children:Object(b.jsx)(a.t,{onRefresh:oe,isFetching:ee,children:Object(b.jsx)(a.l,{children:U.map((function(t){return Object(b.jsx)(a.w,{onClick:function(){return r=t.id,void e.onTeacherSelect(r);var r},before:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(a.k,{onClick:function(e){return function(e,t){e.stopPropagation(),v(t),ae(null)}(e,t.id)},children:Object(b.jsx)(j.a,{fill:"var(--accent)"})}),Object(b.jsx)(a.c,{src:t.photoLink})]}),description:t.rank,children:t.fullName},t.id)}))})})})]})}),ne]})},S=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(a.n,{before:Object(b.jsx)(a.o,{onClick:function(){return e.teacherContextMenuOpened?history.go(-2):history.back()}}),children:Object(b.jsx)(a.p,{aside:Object(b.jsx)(p.a,{style:{transform:"rotate(".concat(e.teacherContextMenuOpened?"180deg":"0",")")}}),onClick:function(){return e.onToggleTeacherContextMenu()},before:Object(b.jsx)(a.c,{size:36,src:e.teacher.photoLink}),status:e.teacher.rank,children:e.teacher.fullName})}),Object(b.jsx)(a.q,{opened:e.teacherContextMenuOpened,onClose:function(){return e.onToggleTeacherContextMenu()},children:Object(b.jsx)(a.l,{children:Object(b.jsxs)(a.d,{before:Object(b.jsxs)(b.Fragment,{children:[e.favoriteTeachers.includes(e.teacher.id)&&Object(b.jsx)(j.a,{fill:"var(--accent)"}),!e.favoriteTeachers.includes(e.teacher.id)&&Object(b.jsx)(o.a,{fill:"var(--accent)"})]}),onClick:function(){return e.onToggleTeachersFavoriteFlagHandler(e.teacher.id)},children:[e.favoriteTeachers.includes(e.teacher.id)&&'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"',!e.favoriteTeachers.includes(e.teacher.id)&&'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 "\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"']})})}),Object(b.jsxs)(a.i,{style:{height:"1000px"},children:[Object(b.jsxs)(a.s,{icon:Object(b.jsx)(i.a,{width:56,height:56}),children:["\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f ",e.teacher.fullName]}),e.snackbar]})]})};t.default=function(){var e=Object(a.F)().viewWidth,t=Object(a.G)(),r=e>=a.E.TABLET,l=t!==a.C,u=Object(n.useState)("favorites"),j=Object(c.a)(u,2),h=j[0],d=j[1],p=Object(n.useState)("groups-list"),m=Object(c.a)(p,2),y=m[0],w=m[1],C=Object(n.useState)("teachers-list"),N=Object(c.a)(C,2),T=N[0],_=N[1],k=Object(n.useState)("favorites-list"),L=Object(c.a)(k,2),E=L[0],F=L[1],I=Object(n.useState)(""),G=Object(c.a)(I,2),P=G[0],J=G[1],V=Object(n.useState)({}),M=Object(c.a)(V,2),H=M[0],R=M[1],A=Object(n.useState)(!1),X=Object(c.a)(A,2),B=X[0],D=X[1],W=Object(n.useState)(!1),q=Object(c.a)(W,2),z=q[0],K=q[1],Q=Object(n.useState)(null),U=Object(c.a)(Q,2),Y=U[0],Z=U[1],$=Object(f.a)(),ee=$.favoriteGroups,te=$.toggleGroupsFavoriteFlag,re=$.favoriteTeachers,ce=$.toggleTeachersFavoriteFlag,ne=$.errorSnackbar;Object(n.useEffect)((function(){Z(ne)}),[ne]),Object(n.useEffect)((function(){return window.addEventListener("popstate",oe),function(){window.removeEventListener("popstate",oe)}}),[]);var ae=function(e){Z(null),history.pushState({activeStory:e.currentTarget.dataset.story,searchValue:"",isSearch:!1,groups_activePanel:"groups-list",teachers_activePanel:"teachers-list",favorites_activePanel:"favorites-list",groups_contextOpened:!1,body_overflow:"visible"},""),w("groups-list"),_("teachers-list"),F("favorites-list"),d(e.currentTarget.dataset.story)},oe=function(){history.state&&(D(history.state.groups_contextOpened),K(history.state.teachers_contextOpened),d(history.state.activeStory),w(history.state.groups_activePanel),_(history.state.teachers_activePanel),F(history.state.favorites_activePanel),document.body.style.overflow=history.state.body_overflow)},se=function(e){"groups"===h?(history.pushState({activeStory:"groups",searchValue:"",isSearch:!1,groups_activePanel:"group-schedule",groups_contextOpened:!1,body_overflow:"visible"},""),w("group-schedule")):(history.pushState({activeStory:"favorites",searchValue:"",isSearch:!1,favorites_activePanel:"group-schedule",groups_contextOpened:!1,body_overflow:"visible"},""),F("group-schedule")),J(e),window.scrollTo(window.scrollX,0)},ie=function(e){"teachers"===h?(history.pushState({activeStory:"teachers",searchValue:"",isSearch:!1,teachers_activePanel:"teacher-schedule",teachers_contextOpened:!1,body_overflow:"visible"},""),_("teacher-schedule")):(history.pushState({activeStory:"favorites",searchValue:"",isSearch:!1,favorites_activePanel:"teacher-schedule",teachers_contextOpened:!1,body_overflow:"visible"},""),F("teacher-schedule"));var t=localStorage.getItem("teachers")?JSON.parse(localStorage.getItem("teachers")):[];R(t.find((function(t){return t.id===e}))),window.scrollTo(window.scrollX,0)},le=function(){if(B)history.back();else{var e=history.state;e.groups_contextOpened=!0,e.body_overflow="hidden",document.body.style.overflow="hidden",history.pushState(e,""),D(!0)}},ue=function(){if(z)history.back();else{var e=history.state;e.teachers_contextOpened=!0,e.body_overflow="hidden",document.body.style.overflow="hidden",history.pushState(e,""),K(!0)}},je=function(e){le(),te(e)},he=function(e){ue(),ce(e)};return Object(b.jsxs)(a.z,{header:l&&Object(b.jsx)(a.n,{separator:!1}),style:{justifyContent:"center"},children:[r&&Object(b.jsx)(a.y,{fixed:!0,width:280,maxWidth:280,children:Object(b.jsxs)(a.m,{children:[l&&Object(b.jsx)(a.n,{}),Object(b.jsxs)(a.i,{children:[Object(b.jsx)(a.d,{disabled:"favorites"===h,style:"favorites"===h?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"favorites",onClick:ae,before:Object(b.jsx)(o.a,{}),children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(b.jsx)(a.d,{disabled:"groups"===h,style:"groups"===h?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"groups",onClick:ae,before:Object(b.jsx)(s.a,{}),children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),Object(b.jsx)(a.d,{disabled:"teachers"===h,style:"teachers"===h?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"teachers",onClick:ae,before:Object(b.jsx)(i.a,{}),children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"})]})]})}),Object(b.jsx)(a.y,{animate:!r,spaced:r,width:r?"560px":"100%",maxWidth:r?"560px":"100%",children:Object(b.jsxs)(a.f,{activeStory:h,tabbar:!r&&Object(b.jsxs)(a.A,{children:[Object(b.jsx)(a.B,{onClick:ae,selected:"favorites"===h,"data-story":"favorites",text:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",children:Object(b.jsx)(o.a,{})}),Object(b.jsx)(a.B,{onClick:ae,selected:"groups"===h,"data-story":"groups",text:"\u0413\u0440\u0443\u043f\u043f\u044b",children:Object(b.jsx)(s.a,{})}),Object(b.jsx)(a.B,{onClick:ae,selected:"teachers"===h,"data-story":"teachers",text:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438",children:Object(b.jsx)(i.a,{})})]}),children:[Object(b.jsxs)(a.D,{id:"favorites",activePanel:E,children:[Object(b.jsxs)(a.m,{id:"favorites-list",children:[Object(b.jsx)(a.n,{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(b.jsx)(x,{onGroupSelect:se,onTeacherSelect:ie}),Y]}),Object(b.jsx)(a.m,{id:"group-schedule",children:Object(b.jsx)(v,{groupContextMenuOpened:B,onToggleGroupContextMenu:le,onToggleGroupsFavorireFlag:je,snackbar:Y,favoriteGroups:ee,groupName:P})}),Object(b.jsx)(a.m,{id:"teacher-schedule",children:Object(b.jsx)(S,{teacherContextMenuOpened:z,onToggleTeacherContextMenu:ue,onToggleTeachersFavoriteFlagHandler:he,snackbar:Y,favoriteTeachers:re,teacher:H})})]}),Object(b.jsxs)(a.D,{id:"groups",activePanel:y,children:[Object(b.jsxs)(a.m,{id:"groups-list",children:[Object(b.jsx)(a.n,{children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),Object(b.jsx)(O,{onGroupSelect:se}),Y]}),Object(b.jsx)(a.m,{id:"group-schedule",children:Object(b.jsx)(v,{groupContextMenuOpened:B,onToggleGroupContextMenu:le,onToggleGroupsFavorireFlag:je,snackbar:Y,favoriteGroups:ee,groupName:P})})]}),Object(b.jsxs)(a.D,{id:"teachers",activePanel:T,children:[Object(b.jsxs)(a.m,{id:"teachers-list",children:[Object(b.jsx)(a.n,{children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(b.jsx)(g,{onTeacherSelect:ie}),Y]}),Object(b.jsx)(a.m,{id:"teacher-schedule",children:Object(b.jsx)(S,{teacherContextMenuOpened:z,onToggleTeacherContextMenu:ue,onToggleTeachersFavoriteFlagHandler:he,snackbar:Y,favoriteTeachers:re,teacher:H})})]})]})})]})}}}]);
//# sourceMappingURL=5.08e70f11.chunk.js.map