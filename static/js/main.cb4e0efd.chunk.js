(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{136:function(e,t,r){},156:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(16),s=r.n(a),i=r(12),o=r.n(i),u=r(8),l=(r(135),r(136),r(46)),b=r(47),j=r(49),O=r(48),h=r(162),f=r(6),d=function(e){Object(j.a)(r,e);var t=Object(O.a)(r);function r(e){var c;return Object(l.a)(this,r),(c=t.call(this,e)).state={hasError:!1},c}return Object(b.a)(r,[{key:"render",value:function(){return this.state.hasError?Object(f.jsx)(u.V,{children:Object(f.jsx)(u.x,{children:Object(f.jsxs)(u.D,{stretched:!0,icon:Object(f.jsx)(h.a,{fill:"var(--dynamic_red)"}),children:["\u041d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443 ",Object(f.jsx)("br",{})," \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441 \u043e\u0447\u0438\u0441\u0442\u043a\u043e\u0439 \u043a\u044d\u0448\u0430"]})})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),r}(n.a.Component),p=r(163),g=function(){var e=Object(u.Y)().viewWidth;return Object(f.jsx)(u.k,{children:Object(f.jsx)(u.d,{children:Object(f.jsx)(u.e,{children:Object(f.jsx)(u.N,{header:Object(f.jsx)(u.y,{separator:!1}),children:Object(f.jsx)(u.M,{spaced:e&&e>u.W.MOBILE,children:Object(f.jsxs)(u.D,{Placeholder:!0,stretched:!0,icon:Object(f.jsx)(p.a,{fill:"var(--dynamic_red)"}),children:["\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c\u0438 Cookie ",Object(f.jsx)("br",{})," \u0438\u043b\u0438 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u043a\u043e\u0433\u043d\u0438\u0442\u043e"]})})})})})})},v=r(30),x=r(17),S=r.n(x),m=Object(c.lazy)((function(){return r.e(3).then(r.bind(null,164))})),y=function(){Object(u.Z)();return Object(f.jsx)(v.b,{children:Object(f.jsx)(u.k,{appearance:"light",platform:"android",webviewType:u.X.INTERNAL,children:Object(f.jsx)(u.d,{children:Object(f.jsx)(u.e,{children:Object(f.jsx)(d,{children:Object(f.jsx)(c.Suspense,{fallback:Object(f.jsx)(u.G,{}),children:Object(f.jsx)(m,{})})})})})})})};try{localStorage.setItem("test","test"),o.a.send("VKWebAppInit"),history.pushState({activeStory:"favorites",searchValue:"",isSearch:!1,favorites_activePanel:"favorites-list",body_overflow:"visible"},""),S.a.get("https://iis.bsuir.by/api/v1/schedule/current-week").then((function(e){sessionStorage.setItem("week",JSON.stringify(e.data)),s.a.render(Object(f.jsx)(y,{}),document.getElementById("root"))}))}catch(k){s.a.render(Object(f.jsx)(g,{}),document.getElementById("root"))}},20:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var c=r(10),n=r(0),a=function(e,t){var r=Object(n.useState)((function(){var r=localStorage.getItem(t);return r?JSON.parse(r):e})),a=Object(c.a)(r,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){localStorage.setItem(t,JSON.stringify(s))}),[s]),[s,i]}},28:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var c=r(157),n=r(8),a=r(6),s=function(e){var t=e.message,r=e.setSnackbar;return Object(a.jsx)(n.K,{onClose:function(){r(null)},before:Object(a.jsx)(c.a,{fill:"var(--dynamic_red)",width:24,height:24}),duration:1700,children:t})}},30:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return O}));var c=r(29),n=r(10),a=r(0),s=(r(12),r(28)),i=r(20),o=r(17),u=r.n(o),l=r(6),b=Object(a.createContext)(),j=function(){return Object(a.useContext)(b)},O=function(e){var t=e.children,r=Object(i.a)([],"groupsFavorite"),o=Object(n.a)(r,2),j=o[0],O=o[1],h=Object(i.a)([],"teachersFavorite"),f=Object(n.a)(h,2),d=f[0],p=f[1],g=Object(a.useState)(null),v=Object(n.a)(g,2),x=v[0],S=v[1],m=Object(a.useState)(null),y=Object(n.a)(m,2),k=y[0],N=y[1],E=Object(a.useState)(null),w=Object(n.a)(E,2),F=w[0],I=w[1],T=Object(a.useState)(null),G=Object(n.a)(T,2),C=G[0],L=G[1],J=Object(i.a)(null,"groups"),_=Object(n.a)(J,2),A=_[0],R=_[1],B=Object(i.a)(null,"teachers"),D=Object(n.a)(B,2),P=D[0],V=D[1],W=Object(a.useState)(new AbortController),K=Object(n.a)(W,1)[0],M=Object(a.useState)(new AbortController),z=Object(n.a)(M,1)[0],X=Object(a.useState)(!1),Y=Object(n.a)(X,2),Z=Y[0],q=Y[1],H=Object(a.useState)(!1),Q=Object(n.a)(H,2),U=Q[0],$=Q[1],ee=Object(a.useState)(!1),te=Object(n.a)(ee,2),re=te[0],ce=te[1],ne=Object(a.useState)(!1),ae=Object(n.a)(ne,2),se=ae[0],ie=ae[1],oe=Object(a.useState)(!1),ue=Object(n.a)(oe,2),le=ue[0],be=ue[1];Object(a.useEffect)((function(){A||u.a.get("https://iis.bsuir.by/api/v1/student-groups",{signal:K.signal}).then((function(e){R(e.data)})).catch((function(){q(!0)}))}),[,le]),Object(a.useEffect)((function(){P||u.a.get("https://iis.bsuir.by/api/v1/employees/all",{signal:z.signal}).then((function(e){var t=e.data.map((function(e){return e.fullName=e.lastName+" "+e.firstName+" "+e.middleName,e}));V(t)})).catch((function(){$(!0)}))}),[,le]);return Object(l.jsx)(b.Provider,{value:{favoriteGroups:j,favoriteTeachers:d,groups:A,teachers:P,errorLoadingGroupList:Z,errorLoadingTeachersList:U,fetchingGroups:re,fetchingTeachers:se,toggleGroupsFavoriteFlag:function(e){var t=Object(c.a)(j);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),O(t)},toggleTeachersFavoriteFlag:function(e){var t=Object(c.a)(d);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),p(t)},onGroupRefresh:function(){ce(!0),u.a.get("https://iis.bsuir.by/api/v1/student-groups").then((function(e){R(e.data),q(!1),ce(!1)})).catch((function(){ce(!1),S(Object(l.jsx)(s.a,{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f",setSnackbar:S}))}))},onTeachersRefresh:function(){ie(!0),u.a.get("https://iis.bsuir.by/api/v1/employees/all").then((function(e){var t=e.data.map((function(e){return e.fullName=e.lastName+" "+e.firstName+" "+e.middleName,e}));V(t),$(!1),ie(!1)})).catch((function(){ie(!1),N(Object(l.jsx)(s.a,{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439",setSnackbar:N}))}))},toggleGroupFavoriteFlagSnackbar:F,toggleTeachreFavoriteFlagSnackbar:C,refreshGroupsErrorSnackbar:x,refreshTeachersErrorSnackbar:k,closeSnackbars:function(){S(null),I(null),L(null),N(null)},onReload:function(){$(!1),q(!1),be(!le)}},children:t})}}},[[156,1,2]]]);
//# sourceMappingURL=main.cb4e0efd.chunk.js.map